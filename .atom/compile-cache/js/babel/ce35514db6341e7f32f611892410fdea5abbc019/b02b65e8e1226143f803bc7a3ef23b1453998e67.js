"use babel";

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; })();

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, "next"); var callThrow = step.bind(null, "throw"); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }

var _require = require("atom");

var Range = _require.Range;

var _require2 = require("./async-spec-helpers");

var it = _require2.it;
var fit = _require2.fit;
var ffit = _require2.ffit;
var fffit = _require2.fffit;
var emitterEventPromise = _require2.emitterEventPromise;
var beforeEach = _require2.beforeEach;
var afterEach = _require2.afterEach;

function dispatchCommand(commandName) {
  atom.commands.dispatch(atom.workspace.getElement(), commandName);
}

function ensurePaneLayout(layout) {
  var root = atom.workspace.getActivePane().getContainer().getRoot();
  expect(paneLayoutFor(root)).toEqual(layout);
}

function paneLayoutFor(root) {
  var layout = {};
  layout[root.getOrientation()] = root.getChildren().map(function (child) {
    switch (child.constructor.name) {
      case "Pane":
        return child.getItems();
      case "PaneAxis":
        return paneLayoutFor(child);
    }
  });
  return layout;
}

describe("pane manipulation commands", function () {
  beforeEach(function () {
    // `destroyEmptyPanes` is default true, but atom's spec-helper reset to `false`
    // So set it to `true` again here to test with default value.
    atom.config.set("core.destroyEmptyPanes", true);
    jasmine.attachToDOM(atom.workspace.getElement());

    return atom.packages.activatePackage("vim-mode-plus");
  });

  describe("moveToVery direction", function () {
    describe("all horizontal", function () {
      var e1 = undefined,
          e2 = undefined,
          e3 = undefined,
          p1 = undefined,
          p2 = undefined,
          p3 = undefined;
      beforeEach(_asyncToGenerator(function* () {
        e1 = yield atom.workspace.open("file1");
        e2 = yield atom.workspace.open("file2", { split: "right" });
        e3 = yield atom.workspace.open("file3", { split: "right" });
        var panes = atom.workspace.getCenter().getPanes();
        expect(panes).toHaveLength(3);
        var _panes = _slicedToArray(panes, 3);

        p1 = _panes[0];
        p2 = _panes[1];
        p3 = _panes[2];

        ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        expect(atom.workspace.getActivePane()).toBe(p3);
      }));

      describe("very-top", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e1], { horizontal: [[e2], [e3]] }] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e2], { horizontal: [[e1], [e3]] }] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e3], { horizontal: [[e1], [e2]] }] });
        });
      });

      describe("very-bottom", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [{ horizontal: [[e2], [e3]] }, [e1]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [{ horizontal: [[e1], [e3]] }, [e2]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [{ horizontal: [[e1], [e2]] }, [e3]] });
        });
      });

      describe("very-left", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e2], [e1], [e3]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e3], [e1], [e2]] });
        });
      });

      describe("very-right", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [[e2], [e3], [e1]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [[e1], [e3], [e2]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
        });
      });

      describe("complex operation", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e1], { horizontal: [[e2], [e3]] }] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e1], [e2], [e3]] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [{ horizontal: [[e2], [e3]] }, [e1]] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [[e2], [e3], [e1]] });
        });
      });
    });

    describe("all vertical", function () {
      var e1 = undefined,
          e2 = undefined,
          e3 = undefined,
          p1 = undefined,
          p2 = undefined,
          p3 = undefined;
      beforeEach(_asyncToGenerator(function* () {
        e1 = yield atom.workspace.open("file1");
        e2 = yield atom.workspace.open("file2", { split: "down" });
        e3 = yield atom.workspace.open("file3", { split: "down" });
        var panes = atom.workspace.getCenter().getPanes();
        expect(panes).toHaveLength(3);
        var _panes2 = _slicedToArray(panes, 3);

        p1 = _panes2[0];
        p2 = _panes2[1];
        p3 = _panes2[2];

        ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        expect(atom.workspace.getActivePane()).toBe(p3);
      }));

      describe("very-top", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e2], [e1], [e3]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e3], [e1], [e2]] });
        });
      });

      describe("very-bottom", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [[e2], [e3], [e1]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [[e1], [e3], [e2]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
        });
      });

      describe("very-left", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e1], { vertical: [[e2], [e3]] }] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e2], { vertical: [[e1], [e3]] }] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e3], { vertical: [[e1], [e2]] }] });
        });
      });

      describe("very-right", function () {
        it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [{ vertical: [[e2], [e3]] }, [e1]] });
        });
        it("case 2", function () {
          p2.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [{ vertical: [[e1], [e3]] }, [e2]] });
        });
        it("case 3", function () {
          p3.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [{ vertical: [[e1], [e2]] }, [e3]] });
        });
      });

      describe("complex operation", function () {
        return it("case 1", function () {
          p1.activate();
          dispatchCommand("vim-mode-plus:move-pane-to-very-top");
          ensurePaneLayout({ vertical: [[e1], [e2], [e3]] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-left");
          ensurePaneLayout({ horizontal: [[e1], { vertical: [[e2], [e3]] }] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-bottom");
          ensurePaneLayout({ vertical: [[e2], [e3], [e1]] });
          dispatchCommand("vim-mode-plus:move-pane-to-very-right");
          ensurePaneLayout({ horizontal: [{ vertical: [[e2], [e3]] }, [e1]] });
        });
      });
    });
  });

  describe("exchange-pane", function () {
    var p1 = undefined,
        p2 = undefined,
        p3 = undefined,
        items = undefined;
    beforeEach(_asyncToGenerator(function* () {
      var e1 = yield atom.workspace.open("file1");
      var e2 = yield atom.workspace.open("file2", { split: "right" });
      var e3 = yield atom.workspace.open("file3");
      var e4 = yield atom.workspace.open("file4", { split: "down" });
      var panes = atom.workspace.getCenter().getPanes();
      expect(panes).toHaveLength(3);
      var _panes3 = _slicedToArray(panes, 3);

      p1 = _panes3[0];
      p2 = _panes3[1];
      p3 = _panes3[2];

      items = {
        p1: p1.getItems(),
        p2: p2.getItems(),
        p3: p3.getItems()
      };
      expect(items).toEqual({
        p1: [e1],
        p2: [e2, e3],
        p3: [e4]
      });

      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p3);
    }));

    it("[adjacent is pane]: exchange pane and and stay active pane", function () {
      dispatchCommand("vim-mode-plus:exchange-pane");
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p3, items.p2] }] });
      expect(atom.workspace.getActivePane()).toBe(p2);

      dispatchCommand("vim-mode-plus:exchange-pane");
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p3);
    });

    it("[adjacent is paneAxis]: Do nothing when adjacent was paneAxis", function () {
      p1.activate();
      dispatchCommand("vim-mode-plus:exchange-pane");
      ensurePaneLayout({ horizontal: [items.p1, { vertical: [items.p2, items.p3] }] });
      expect(atom.workspace.getActivePane()).toBe(p1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90bGFuZGF1Ly5hdG9tL3BhY2thZ2VzL3ZpbS1tb2RlLXBsdXMvc3BlYy9wYW5lLXV0aWxzLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFBOzs7Ozs7ZUFFSyxPQUFPLENBQUMsTUFBTSxDQUFDOztJQUF4QixLQUFLLFlBQUwsS0FBSzs7Z0JBQytELE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQzs7SUFBbkcsRUFBRSxhQUFGLEVBQUU7SUFBRSxHQUFHLGFBQUgsR0FBRztJQUFFLElBQUksYUFBSixJQUFJO0lBQUUsS0FBSyxhQUFMLEtBQUs7SUFBRSxtQkFBbUIsYUFBbkIsbUJBQW1CO0lBQUUsVUFBVSxhQUFWLFVBQVU7SUFBRSxTQUFTLGFBQVQsU0FBUzs7QUFFdkUsU0FBUyxlQUFlLENBQUMsV0FBVyxFQUFFO0FBQ3BDLE1BQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUE7Q0FDakU7O0FBRUQsU0FBUyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUU7QUFDaEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtBQUNwRSxRQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0NBQzVDOztBQUVELFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtBQUMzQixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFDakIsUUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBQSxLQUFLLEVBQUk7QUFDOUQsWUFBUSxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUk7QUFDNUIsV0FBSyxNQUFNO0FBQ1QsZUFB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QUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7S0FDaEQsQ0FBQyxDQUFBO0dBQ0gsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBIiwiZmlsZSI6Ii9Vc2Vycy90bGFuZGF1Ly5hdG9tL3BhY2thZ2VzL3ZpbS1tb2RlLXBsdXMvc3BlYy9wYW5lLXV0aWxzLXNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBiYWJlbFwiXG5cbmNvbnN0IHtSYW5nZX0gPSByZXF1aXJlKFwiYXRvbVwiKVxuY29uc3Qge2l0LCBmaXQsIGZmaXQsIGZmZml0LCBlbWl0dGVyRXZlbnRQcm9taXNlLCBiZWZvcmVFYWNoLCBhZnRlckVhY2h9ID0gcmVxdWlyZShcIi4vYXN5bmMtc3BlYy1oZWxwZXJzXCIpXG5cbmZ1bmN0aW9uIGRpc3BhdGNoQ29tbWFuZChjb21tYW5kTmFtZSkge1xuICBhdG9tLmNvbW1hbmRzLmRpc3BhdGNoKGF0b20ud29ya3NwYWNlLmdldEVsZW1lbnQoKSwgY29tbWFuZE5hbWUpXG59XG5cbmZ1bmN0aW9uIGVuc3VyZVBhbmVMYXlvdXQobGF5b3V0KSB7XG4gIGNvbnN0IHJvb3QgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkuZ2V0Q29udGFpbmVyKCkuZ2V0Um9vdCgpXG4gIGV4cGVjdChwYW5lTGF5b3V0Rm9yKHJvb3QpKS50b0VxdWFsKGxheW91dClcbn1cblxuZnVuY3Rpb24gcGFuZUxheW91dEZvcihyb290KSB7XG4gIGNvbnN0IGxheW91dCA9IHt9XG4gIGxheW91dFtyb290LmdldE9yaWVudGF0aW9uKCldID0gcm9vdC5nZXRDaGlsZHJlbigpLm1hcChjaGlsZCA9PiB7XG4gICAgc3dpdGNoIChjaGlsZC5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICBjYXNlIFwiUGFuZVwiOlxuICAgICAgICByZXR1cm4gY2hpbGQuZ2V0SXRlbXMoKVxuICAgICAgY2FzZSBcIlBhbmVBeGlzXCI6XG4gICAgICAgIHJldHVybiBwYW5lTGF5b3V0Rm9yKGNoaWxkKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGxheW91dFxufVxuXG5kZXNjcmliZShcInBhbmUgbWFuaXB1bGF0aW9uIGNvbW1hbmRzXCIsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gYGRlc3Ryb3lFbXB0eVBhbmVzYCBpcyBkZWZhdWx0IHRydWUsIGJ1dCBhdG9tJ3Mgc3BlYy1oZWxwZXIgcmVzZXQgdG8gYGZhbHNlYFxuICAgIC8vIFNvIHNldCBpdCB0byBgdHJ1ZWAgYWdhaW4gaGVyZSB0byB0ZXN0IHdpdGggZGVmYXVsdCB2YWx1ZS5cbiAgICBhdG9tLmNvbmZpZy5zZXQoXCJjb3JlLmRlc3Ryb3lFbXB0eVBhbmVzXCIsIHRydWUpXG4gICAgamFzbWluZS5hdHRhY2hUb0RPTShhdG9tLndvcmtzcGFjZS5nZXRFbGVtZW50KCkpXG5cbiAgICByZXR1cm4gYXRvbS5wYWNrYWdlcy5hY3RpdmF0ZVBhY2thZ2UoXCJ2aW0tbW9kZS1wbHVzXCIpXG4gIH0pXG5cbiAgZGVzY3JpYmUoXCJtb3ZlVG9WZXJ5IGRpcmVjdGlvblwiLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoXCJhbGwgaG9yaXpvbnRhbFwiLCAoKSA9PiB7XG4gICAgICBsZXQgZTEsIGUyLCBlMywgcDEsIHAyLCBwM1xuICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgIGUxID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUxXCIpXG4gICAgICAgIGUyID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUyXCIsIHtzcGxpdDogXCJyaWdodFwifSlcbiAgICAgICAgZTMgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKFwiZmlsZTNcIiwge3NwbGl0OiBcInJpZ2h0XCJ9KVxuICAgICAgICBjb25zdCBwYW5lcyA9IGF0b20ud29ya3NwYWNlLmdldENlbnRlcigpLmdldFBhbmVzKClcbiAgICAgICAgZXhwZWN0KHBhbmVzKS50b0hhdmVMZW5ndGgoMylcbiAgICAgICAgO1twMSwgcDIsIHAzXSA9IHBhbmVzXG4gICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDMpXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZShcInZlcnktdG9wXCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJjYXNlIDFcIiwgKCkgPT4ge1xuICAgICAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UxXSwge2hvcml6b250YWw6IFtbZTJdLCBbZTNdXX1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDJcIiwgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UyXSwge2hvcml6b250YWw6IFtbZTFdLCBbZTNdXX1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UzXSwge2hvcml6b250YWw6IFtbZTFdLCBbZTJdXX1dfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGRlc2NyaWJlKFwidmVyeS1ib3R0b21cIiwgKCkgPT4ge1xuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFt7aG9yaXpvbnRhbDogW1tlMl0sIFtlM11dfSwgW2UxXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdChcImNhc2UgMlwiLCAoKSA9PiB7XG4gICAgICAgICAgcDIuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFt7aG9yaXpvbnRhbDogW1tlMV0sIFtlM11dfSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdChcImNhc2UgM1wiLCAoKSA9PiB7XG4gICAgICAgICAgcDMuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFt7aG9yaXpvbnRhbDogW1tlMV0sIFtlMl1dfSwgW2UzXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoXCJ2ZXJ5LWxlZnRcIiwgKCkgPT4ge1xuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KFwiY2FzZSAyXCIsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1sZWZ0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMl0sIFtlMV0sIFtlM11dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWxlZnRcIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbW2UzXSwgW2UxXSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoXCJ2ZXJ5LXJpZ2h0XCIsICgpID0+IHtcbiAgICAgICAgaXQoXCJjYXNlIDFcIiwgKCkgPT4ge1xuICAgICAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMl0sIFtlM10sIFtlMV1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDJcIiwgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIFtlM10sIFtlMl1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIFtlMl0sIFtlM11dfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIGRlc2NyaWJlKFwiY29tcGxleCBvcGVyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCB7aG9yaXpvbnRhbDogW1tlMl0sIFtlM11dfV19KVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1ib3R0b21cIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW3tob3Jpem9udGFsOiBbW2UyXSwgW2UzXV19LCBbZTFdXX0pXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTJdLCBbZTNdLCBbZTFdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBkZXNjcmliZShcImFsbCB2ZXJ0aWNhbFwiLCAoKSA9PiB7XG4gICAgICBsZXQgZTEsIGUyLCBlMywgcDEsIHAyLCBwM1xuICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgIGUxID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUxXCIpXG4gICAgICAgIGUyID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUyXCIsIHtzcGxpdDogXCJkb3duXCJ9KVxuICAgICAgICBlMyA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oXCJmaWxlM1wiLCB7c3BsaXQ6IFwiZG93blwifSlcbiAgICAgICAgY29uc3QgcGFuZXMgPSBhdG9tLndvcmtzcGFjZS5nZXRDZW50ZXIoKS5nZXRQYW5lcygpXG4gICAgICAgIGV4cGVjdChwYW5lcykudG9IYXZlTGVuZ3RoKDMpXG4gICAgICAgIDtbcDEsIHAyLCBwM10gPSBwYW5lc1xuICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMV0sIFtlMl0sIFtlM11dfSlcbiAgICAgICAgZXhwZWN0KGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVBhbmUoKSkudG9CZShwMylcbiAgICAgIH0pXG5cbiAgICAgIGRlc2NyaWJlKFwidmVyeS10b3BcIiwgKCkgPT4ge1xuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KFwiY2FzZSAyXCIsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS10b3BcIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMl0sIFtlMV0sIFtlM11dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXRvcFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UzXSwgW2UxXSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoXCJ2ZXJ5LWJvdHRvbVwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwiY2FzZSAxXCIsICgpID0+IHtcbiAgICAgICAgICBwMS5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1ib3R0b21cIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHt2ZXJ0aWNhbDogW1tlMl0sIFtlM10sIFtlMV1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDJcIiwgKCkgPT4ge1xuICAgICAgICAgIHAyLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWJvdHRvbVwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe3ZlcnRpY2FsOiBbW2UxXSwgW2UzXSwgW2UyXV19KVxuICAgICAgICB9KVxuICAgICAgICBpdChcImNhc2UgM1wiLCAoKSA9PiB7XG4gICAgICAgICAgcDMuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZShcInZlcnktbGVmdFwiLCAoKSA9PiB7XG4gICAgICAgIGl0KFwiY2FzZSAxXCIsICgpID0+IHtcbiAgICAgICAgICBwMS5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1sZWZ0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIHt2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfV19KVxuICAgICAgICB9KVxuICAgICAgICBpdChcImNhc2UgMlwiLCAoKSA9PiB7XG4gICAgICAgICAgcDIuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktbGVmdFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtbZTJdLCB7dmVydGljYWw6IFtbZTFdLCBbZTNdXX1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LWxlZnRcIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbW2UzXSwge3ZlcnRpY2FsOiBbW2UxXSwgW2UyXV19XX0pXG4gICAgICAgIH0pXG4gICAgICB9KVxuXG4gICAgICBkZXNjcmliZShcInZlcnktcmlnaHRcIiwgKCkgPT4ge1xuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktcmlnaHRcIilcbiAgICAgICAgICBlbnN1cmVQYW5lTGF5b3V0KHtob3Jpem9udGFsOiBbe3ZlcnRpY2FsOiBbW2UyXSwgW2UzXV19LCBbZTFdXX0pXG4gICAgICAgIH0pXG4gICAgICAgIGl0KFwiY2FzZSAyXCIsICgpID0+IHtcbiAgICAgICAgICBwMi5hY3RpdmF0ZSgpXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFt7dmVydGljYWw6IFtbZTFdLCBbZTNdXX0sIFtlMl1dfSlcbiAgICAgICAgfSlcbiAgICAgICAgaXQoXCJjYXNlIDNcIiwgKCkgPT4ge1xuICAgICAgICAgIHAzLmFjdGl2YXRlKClcbiAgICAgICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOm1vdmUtcGFuZS10by12ZXJ5LXJpZ2h0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW3t2ZXJ0aWNhbDogW1tlMV0sIFtlMl1dfSwgW2UzXV19KVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgZGVzY3JpYmUoXCJjb21wbGV4IG9wZXJhdGlvblwiLCAoKSA9PlxuICAgICAgICBpdChcImNhc2UgMVwiLCAoKSA9PiB7XG4gICAgICAgICAgcDEuYWN0aXZhdGUoKVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktdG9wXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTFdLCBbZTJdLCBbZTNdXX0pXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1sZWZ0XCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW1tlMV0sIHt2ZXJ0aWNhbDogW1tlMl0sIFtlM11dfV19KVxuICAgICAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6bW92ZS1wYW5lLXRvLXZlcnktYm90dG9tXCIpXG4gICAgICAgICAgZW5zdXJlUGFuZUxheW91dCh7dmVydGljYWw6IFtbZTJdLCBbZTNdLCBbZTFdXX0pXG4gICAgICAgICAgZGlzcGF0Y2hDb21tYW5kKFwidmltLW1vZGUtcGx1czptb3ZlLXBhbmUtdG8tdmVyeS1yaWdodFwiKVxuICAgICAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFt7dmVydGljYWw6IFtbZTJdLCBbZTNdXX0sIFtlMV1dfSlcbiAgICAgICAgfSkpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZShcImV4Y2hhbmdlLXBhbmVcIiwgKCkgPT4ge1xuICAgIGxldCBwMSwgcDIsIHAzLCBpdGVtc1xuICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZTEgPSBhd2FpdCBhdG9tLndvcmtzcGFjZS5vcGVuKFwiZmlsZTFcIilcbiAgICAgIGNvbnN0IGUyID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUyXCIsIHtzcGxpdDogXCJyaWdodFwifSlcbiAgICAgIGNvbnN0IGUzID0gYXdhaXQgYXRvbS53b3Jrc3BhY2Uub3BlbihcImZpbGUzXCIpXG4gICAgICBjb25zdCBlNCA9IGF3YWl0IGF0b20ud29ya3NwYWNlLm9wZW4oXCJmaWxlNFwiLCB7c3BsaXQ6IFwiZG93blwifSlcbiAgICAgIGNvbnN0IHBhbmVzID0gYXRvbS53b3Jrc3BhY2UuZ2V0Q2VudGVyKCkuZ2V0UGFuZXMoKVxuICAgICAgZXhwZWN0KHBhbmVzKS50b0hhdmVMZW5ndGgoMylcbiAgICAgIDtbcDEsIHAyLCBwM10gPSBwYW5lc1xuICAgICAgaXRlbXMgPSB7XG4gICAgICAgIHAxOiBwMS5nZXRJdGVtcygpLFxuICAgICAgICBwMjogcDIuZ2V0SXRlbXMoKSxcbiAgICAgICAgcDM6IHAzLmdldEl0ZW1zKCksXG4gICAgICB9XG4gICAgICBleHBlY3QoaXRlbXMpLnRvRXF1YWwoe1xuICAgICAgICBwMTogW2UxXSxcbiAgICAgICAgcDI6IFtlMiwgZTNdLFxuICAgICAgICBwMzogW2U0XSxcbiAgICAgIH0pXG5cbiAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtpdGVtcy5wMSwge3ZlcnRpY2FsOiBbaXRlbXMucDIsIGl0ZW1zLnAzXX1dfSlcbiAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDMpXG4gICAgfSlcblxuICAgIGl0KFwiW2FkamFjZW50IGlzIHBhbmVdOiBleGNoYW5nZSBwYW5lIGFuZCBhbmQgc3RheSBhY3RpdmUgcGFuZVwiLCAoKSA9PiB7XG4gICAgICBkaXNwYXRjaENvbW1hbmQoXCJ2aW0tbW9kZS1wbHVzOmV4Y2hhbmdlLXBhbmVcIilcbiAgICAgIGVuc3VyZVBhbmVMYXlvdXQoe2hvcml6b250YWw6IFtpdGVtcy5wMSwge3ZlcnRpY2FsOiBbaXRlbXMucDMsIGl0ZW1zLnAyXX1dfSlcbiAgICAgIGV4cGVjdChhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVQYW5lKCkpLnRvQmUocDIpXG5cbiAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6ZXhjaGFuZ2UtcGFuZVwiKVxuICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW2l0ZW1zLnAxLCB7dmVydGljYWw6IFtpdGVtcy5wMiwgaXRlbXMucDNdfV19KVxuICAgICAgZXhwZWN0KGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVBhbmUoKSkudG9CZShwMylcbiAgICB9KVxuXG4gICAgaXQoXCJbYWRqYWNlbnQgaXMgcGFuZUF4aXNdOiBEbyBub3RoaW5nIHdoZW4gYWRqYWNlbnQgd2FzIHBhbmVBeGlzXCIsICgpID0+IHtcbiAgICAgIHAxLmFjdGl2YXRlKClcbiAgICAgIGRpc3BhdGNoQ29tbWFuZChcInZpbS1tb2RlLXBsdXM6ZXhjaGFuZ2UtcGFuZVwiKVxuICAgICAgZW5zdXJlUGFuZUxheW91dCh7aG9yaXpvbnRhbDogW2l0ZW1zLnAxLCB7dmVydGljYWw6IFtpdGVtcy5wMiwgaXRlbXMucDNdfV19KVxuICAgICAgZXhwZWN0KGF0b20ud29ya3NwYWNlLmdldEFjdGl2ZVBhbmUoKSkudG9CZShwMSlcbiAgICB9KVxuICB9KVxufSlcbiJdfQ==