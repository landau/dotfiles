var normalInclude = require('../../taglibs/core/include-tag')._Z_;
var componentsUtil = require('../util');
var getElementById = componentsUtil.e_;

var getComponentsContext = require('../ComponentsContext').__;

module.exports = function include(input, out) {
    if (!normalInclude(input, out)) {
        var elId = input._elId;

        // There's no body content so let's see if we should reuse
        // the existing body content in the DOM
        var existingEl = getElementById(out.F_, elId);
        if (existingEl) {
            var componentsContext = getComponentsContext(out);
            componentsContext.X_._C_(elId, true /* body only */);
        }
    }
};