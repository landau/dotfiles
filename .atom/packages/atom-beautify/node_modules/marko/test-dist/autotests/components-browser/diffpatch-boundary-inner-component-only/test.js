var expect = require('chai').expect;

module.exports = function (helpers) {
    var component = helpers.mount(require('./index'), {});
    var innerComponent = component.getComponent('inner');

    expect(innerComponent.h_.className).to.equal('inner');
    expect(component.h_).to.not.equal(innerComponent.h_);
    expect(component.i_).to.not.equal(innerComponent.i_);
    expect(helpers.targetEl.querySelector('.inner').innerHTML).to.equal('0');

    component.state.count++;
    component.update();

    innerComponent = component.getComponent('inner');

    expect(innerComponent.h_.className).to.equal('inner');
    expect(component.h_).to.not.equal(innerComponent.h_);
    expect(component.i_).to.not.equal(innerComponent.i_);
    expect(helpers.targetEl.querySelector('.inner').innerHTML).to.equal('1');
};