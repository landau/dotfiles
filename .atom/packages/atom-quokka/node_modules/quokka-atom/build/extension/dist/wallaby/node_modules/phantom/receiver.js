// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIobyxhKXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKG8sITApO2lmKHMpcmV0dXJuIHMobywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXIoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09aS50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1pLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24oKXt9fSk7dmFyIHI9ZSgicGF0aCIpLHM9ZnVuY3Rpb24odCl7dmFyIG4saT1lKCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIik7aWYodC5fbW9kZWwpbj10Ll9tb2RlbDtlbHNle3ZhciByPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCIpO249bmV3IHIoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pZEJ5UGF0aChlKX0scHJvamVjdDp0fSl9dC5fdWlTZXJ2aWNlPW5ldyBpKG4pLHQuX3VpU2VydmljZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIm5hdmlnYXRpb25SZXF1ZXN0ZWQiPT09ZS50eXBlJiZ0LmVtaXQoIm1lc3NhZ2UiLGUpfSl9O3QuZXhwb3J0cz17Y3JlYXRlOmZ1bmN0aW9uKHQsbil7aWYobil7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgbz10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxhPW5ldyBpKG9bMV0rIi8iK29bMF0rIi8iK29bMl0pO2Euc2V0RGF0ZShhLmdldERhdGUoKSsxKTt2YXIgbD1uZXcgaSgxNTA4MjEzMzg2NjEzKTtpZihsLnNldEhvdXJzKDAsMCwwLDApLGw+YSl7dmFyIGM9cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIix1PXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL2xpY2Vuc2UvIjtyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6IlRoZSBpbnN0YWxsZWQgIitjKyIgdmVyc2lvbiBpcyBub3QgY292ZXJlZCBieSB5b3VyIGN1cnJlbnQgbGljZW5zZS5cblBsZWFzZSB2aXNpdCBvdXIgd2Vic2l0ZSB0byB1cGdyYWRlIHlvdXIgbGljZW5zZTogIit1KyIuIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfX1jYXRjaChkKXt9cHJvY2Vzcy5lbnYucXVva2thfHxzKG4pO3ZhciBoPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciIpLHA9MmUzO2lmKHQubGljZW5zZSYmdC5saWNlbnNlIT09bi5fd2FsbGFieUVtYWlsKXt2YXIgZj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2guZW1pdCgibGljZW5zZS51c2UiLHQubGljZW5zZSl9LHApO2gub24oImxpY2Vuc2UudXNlIixmdW5jdGlvbihlLGkpe3QubGljZW5zZSYmZSYmdC5saWNlbnNlPT09ZSYmbi5fZW1pdCh7dHlwZToibGljZW5zZUNvbGxpc2lvbiIsYWRkcmVzczppfSl9KSxuLl9tdWx0aWNhc3Rlcj17c3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoZiksaC5zdG9wKCl9fX1yZXR1cm4gdC5saWNlbnNlP1Eud2hlbighMCk6bi5fZmlsZVN0YXRQcm9taXNlKHIuZGlybmFtZShuLl9waGFudG9tanMpKVsiY2F0Y2giXShmdW5jdGlvbigpe3JldHVybiBRLndoZW4oe30pfSkudGhlbihmdW5jdGlvbihlKXtpZihlJiZlLm10aW1lKXt2YXIgdD1lLm10aW1lO2lmKHQuc2V0RGF0ZShlLm10aW1lLmdldERhdGUoKSszMCksbmV3IGk+dClyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6Im1vYy5zanliYWxsYXdAb2xsZWggdGEgbGlhbWUgYWl2IHN1IHRjYXRub2MgZXNhZWxwICxtYWV0IHJ1b3kgcm8gZmxlc3J1b3kgcm9mIGRvaXJlcCBsYWlydCByZWdub2wgYSBlZ25hcnJhIG90IGVraWwgZGx1b3cgdW95IGZJXG4uZXNuZWNpbCBhIGVzYWhjcnVwIG90IGVzYWhjcnVwL21vYy5zanliYWxsYXcvLzpwdHRoIHRhIGV0aXNiZXcgcnVvIHRpc2l2IGVzYWVscCAsdGNlam9ycCBlaHQgdHJvcHB1cyBkbmEgdGkgZ25pc3UgZXVuaXRub2Mgb3QgZWtpbCBkbHVvdyB1b3kgZG5hICx5dGl2aXRjdWRvcnAgcnVveSBkZXNhZXJjbmkgc2FoIHNqLnliYWxsYXcgZklcbi50dW8gdGkgZ25peXJ0IHJvZiBza25haHQgLHJldm8gc2kgZG9pcmVwIGxhaXJ0IHNqLnliYWxsYXcgcnVvWSIuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKSxub0RldGFpbHM6ITB9KX1yZXR1cm4gUS53aGVuKCEwKX0pfXJldHVybiBlKCIuL2V4dGVuc2lvbi9jb3JlIil9fX0seyIuL2V4dGVuc2lvbi9jb3JlIjoyLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbW9kZWwiOjEwLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbXVsdGljYXN0ZXIiOjExLCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIjoxNixwYXRoOnZvaWQgMH1dLDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscj1nbG9iYWwuRGF0ZTtpZigiZnVuY3Rpb24gRGF0ZSgpIHsgW25hdGl2ZSBjb2RlXSB9IiE9PXIudG9TdHJpbmcoKXx8ImZ1bmN0aW9uIHRvU3RyaW5nKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09ci50b1N0cmluZy50b1N0cmluZygpKXJldHVybiB2b2lkKHQuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCkpO3ZhciBzLG89ZSgicGF0aCIpLGE9ZSgiY3J5cHRvIiksbD1lKCJjaGlsZF9wcm9jZXNzIikuZXhlY1N5bmMsYz1lKCJ0aW1lcnMiKS5zZXRUaW1lb3V0LHU9ZSgidGltZXJzIikuY2xlYXJUaW1lb3V0LGQ9ZSgiLi9zZXJ2ZXIvZmlsZVN5c3RlbSIpLGg9ZSgiLi9zZXJ2ZXIvbW9kZWwiKSxwPWUoIi4vc2hhcmVkL3V0aWxzIiksZj02ZTUsZz03ZTMseT01LHY9MTQsbT0iYWN0aXZhdGUtbGluayIsVD0iY29udGludWUtdHJpYWwtbGluayIsUj0iRnJlZWRvbSIsRj17QXRvbToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcXlkUUJacGU0dlBtV3ZIMnlyaUhcbjhmL0Jtb2txY2xEcUpOSlVDb1YrUlFhdzE2cnQvaTNrUlVVSHFZWFYxb3p4UHZRc056QXBQcmFwKzIxTXFWVFRcbmd6cFNKQjZIbmhZYWJBT01haHV2emFabHh0RVVWQW9kWndHWG43YmRETDZ0YjdXSWpvaGhHbXlmc0RLdisycGlcblZWbkJQK3FHUlh0dGF0TnlLazBtVE9mYlViODBtc3E2UzNNbmZoTThTdU9vODMreFkvdFo1aVBHd3pqMTFiU0ZcbnR2a2JNQWNYM1ljS2hvRlJteThLZ0R1T3hqUThtZTgyRHk2U2dzaGxzYWU4LzJTTlZ6MGlNY2dDSVRBU1hPdVhcbjBGMFFGQ3JlanhYVFR6Z2g3VEJlOWE0eDUxaVlLTWZNMXdxcVhoVi8zeWNzekhacndHRWY4RmNvNzNMV3Rmb21cbkh3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFZTQ29kZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBd2YwUm42cmdGTVZOdWFlZzNLZzlcbmtqTE5VVDhaMmZuSXJqVWhER004RlM3bzVrNE5UMUZkem5xc29CcHJMZHJMUmRrTXpqSDhJUHJyRVU1cktpV2xcblZPMGlLVTdRN0FtTWZBVFN0ZXp2ZnlzMEFBbCtvM2Yva1FpU1p4RDJVNVAvSzM4a2xZcHdmOUw4TU10aEFlRUZcbnk0eHpBNWVCdVB6QmRSSHh2VXdVcWhDQjlvNzNaNE1heEhucmF6NWh4MGY2YWdFZExWVTZYc05rbzV3WG44Wk5cblA2QmJrT09tL0hnVThLa1d1SmJVNTh5Z1h4UGYvZm5aSHUyZ3R2cnovck5lbW9YWTFmRHlkaXpOeER5K1pQZ1Bcbml3ZVNkcW5MaGxGb0pFdXhuSXdvUGxZTTdKd0toM0ppaE96QXFRUTVVNUprTTVlL21GUS9sRnFDVnhNbG1CUVdcblZ3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFN1YmxpbWU6Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXUxRUVEWnpRKytsNnR6MmlvQ1BhXG5IeE9TY2p5MmtSRGRQb1h1UTg4elpHNlZldnhxbUl6YWRIUEZHalY1cDNabThPWTlSK1NmNjFrZHpSWnp2V1JnXG54b3JsYW5vT2x1dHZmQmZHMmxrdjJKNEgvQjc1WHBvQWVHdmR2SWxPTW9EeGZ3ajJ2TUlRNG9ITmFDSjJ5K08vXG5pb2hURk9DMDduWTd1ZjJzYTB1c09BWjd6ZytiWHl6NjMvZnVTZVZvdUZDS0dlWUt2cTFZQzk5MUYySGowVGhNXG54eGVsbGM2eDFBYUZ1eXlHNUhtZFlxYnVLTlMraUF0N3c4cFlUSm9YeGk5akUwMjE0R2Ywc2JzRm5BYkJGajJzXG5rT2FlZTRQU3BseVNaWEVtWVJlcFAxK3c2YURrdWJWdHNITXZGdCtBcjR3dTRkTHVBajdTOHl4VlZyS0VHOVJ6XG40d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIixGcmVlZG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0cERvdGVqdHpoaVQvbHBOZmQwSFxuMkR2MDhOVFNKOC9peHVRejNpSmlWUnhRa290NVNuNDV3dTRRaVFFb1k1TlEvdERmOFY5bURlZVBOVS9aZDhLWVxuZHlSRm9xNmJ3T2xIYzBIQWE1MHRlY1JDRUNFU0IrdDNUVmNxTE1vZ1gzMnZnUWtTbWx5MHNGeHRHRkJqTjhXeFxuVitRN1dROG5lZnQ3SkthWHRtKzJGdDdQNDFvbmQrU2ZCZVRvaDltbjlERmZ0K091STJ2ejdzME9TamQrUDJid1xuK0dFSXIzb3RsM0NBNVJySUg5V1JzQVZqYXd2K3o1THZha1FYdE82Sk5ObUpnRXJIV1pta0JJbHYyVkhEc29TZFxuTUxnYTJqVGlFSHJrWnlsS1BGb3ovaE9kaC9pVkg0L3IxQVd4QmhqOElnUWxSY0xKZ3ZTQnpKbzRPbEJobFloNlxueHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSIsUXVva2thOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFvaFIvTzhYNXB0Z1BiZWxzU3NhWlxuV0pIWjdGa3FvMzlDeDlVWVBzMnJZemJ3OTRhWnJJZVJkZGZnRDU1Z1NaWjNKa1JYUmRaN0tibStYVHJpNlYwL1xuMFpldCtGS2FlVzB4a290SHZNUDBmVHpHbmFqUTZDODM2TTh3UVI5ZjFuZHFkN1RzYTMwa0FlZ3ZQcWhLdUkrV1xuYVcxR1pyU2VlZXlxMy91WjR0aFBFR3ZGRFhqNlAyb2dFYUV4MzZXdXFEOURWMVV1WTd2Y20vZlBZWnBmR2dQdVxuOEo0SEF6SzVHME95clNlblRYLytKTzhwS2pPdEY2SkhLYVFtaTNDRjF0Q0ExZXc4c3ZaMFpMa0s5QUdvTSs4T1xuYTlreDFzQnA0WXZDakEwVlJ4ZE8vNjZPdEJSaEZuS1Y2SmJvUFRRNFNHMmJGQUtZUkpPN3RuUzdubmhpY2dIc1xuRXdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LFY9eyJRMGRDSUVWdWRHVnljSEpwYzJWeklDTnlZWEo2TkFwa2FXNWhhQzV3YkdGdVkyaGhjbVJBWTJkaUxtTnZiU3hYWVd4c1lXSjVMbXB6SUdOdmJYQmhibmtnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRFdk1EVXZNakF4TndwT1QyWlVhRFpXTlV4R1luVkZTVTV6YlV4WVJUSjNPVk16TVRaalNIaGxWVnBHVFdKRGNETTNSaXQwUjNKc1RGRndibHBEYjFaRlFucERUVU5RZGpaRWFUUldNVEZMVUU1TVNHbDRaR2QzY2tOR2VEaFBVRkJPTmpRNGMycEpNWHBXVFVsMFRYQnJSSFJpTHl0TGR6UjZNbUpTU1VGMmNFbDJaeXQ0UjA1dlExSXpWME5PU1RsaFdXVTFWWEIzVVVGM2RHRjJhMmRpVTA5a2RIZEdhbTFKTDIxcFV6QlhObXBYWVVkMVRuUkNSM1ZrUlZOVmNtcE5NRlJsTTNSalJsQkRUVlIzTUZKWU5YbHBTWEpzWlZOa1FrcFZlRTlUV2t4VGNHWXdaMncxWVZrclRYTkxWVGs0ZEhwTmFsVjFjMnRHWkdzM1NYWnFWRTFsUTB0TWIxcDZkMmgzTVhSTE1XMTFjRkJPYlVOaVZVZDFhMU1yZDFSVlJsSldVRUZ2YkVOelZIcEhMMUpFUldoV2QyTkxaa3dyT0M5eVIwMTFVVUpyTkZaNFp6WkNjbnBwT0hvNVdVcE1SSFpzYTJoa2NrRk9ka0ZYWm5jOVBRPT0iOjEsUVcxaGVtOXVJRU52Y25CdmNtRjBaU0JNVEVNZ0kzaGhaVGwyQ21Gc1pYaGZjMk5vYVdOcmJHbHVaMEJ6YUdrdVkyOXRMRmRoYkd4aFlua3Vhbk1nWTI5dGNHRnVlU0JzYVdObGJuTmxJQ2hCZEc5dEtRb3lOeTh3TkM4eU1ERTNDa1ZqU0d0MksxaHJlVzVqZUZKRVdWZEZVRkZpYnpkWVZteHFVRVEzVkc0d2VqQndlbTFFWlNzM2IyNVBWWEJuWVRWQmMydExTVEF5Y2tSVVdTdEZLMlJXTkM5cEwyWmhXRzR3ZGxGcWRFSjNOMFZTYTNkTU0zZFhWVEZOZUhKNE5VMW9hSE51ZGxveVNqTk1ZM0JxYjJsMU1sUkthR3hpVUhsSk1YWldSeTlHUVU0M1dEVnRWMFZzZFhKdVVsRkhhbGRCY0ZkT1UwTkNMMlk0VUdabFpGVmliVU51YVM5elpXNU5PRGxSVG5JcldETTBaekJqYWpkYVExRXpXVmgyYnpkMFMwMXdNMUZyZDI1UGVVaG9lVEJ0TkN0MWFUaFlaRXBZUms4NFV6UnFXRk5QU0VrdmVpdHlOVE15VjBFdlNVRkxlVXR0TTFnMFZXbFRXbWxNVkhOTWRrWTFOVVppUjJreFNsWXhZV3hQZVVaclJIQldUbmg0U2pKTFVVUlBNbmxGTTI4clkybHNZbFk0TW10VGR5c3hkRVpzTHpadE4yeHViM2RoTTBOSVdtdE9kVmhZZWxkRkwwdzNPVUV3UjBoaU9FWnhaejA5OjEsIlNuVnpkR2x1SUV4bFpHOTFlQXBxZFhOMGFXNHViR1ZrYjNWNFFHcDFjM1JwYm5kbFlpNXdjbThzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoVGRXSnNhVzFsSUZSbGVIUXBDakEyTHpBMkx6SXdNVGNLYjJvNWRFRlJZVXR2UTBkYVRHeHRZV2R4WlU0elZFVkNWVzl3VVRGeGNHTlBVa2xqTUhkblZqVXJWRVF6TkU1aGFFZFFWV2hYYUZWU1lTOWFkSHBzTjBWYWIzVjBNelpqWlZKMFRVY3lVa3d3SzJsYU4wWmxZMk5TVm5neVZUUk5iVTl0U0dwT2JFRlhaa050S3pBNGREWlZkMmszUVM5T2QwOVRja2x1TWtSV1dUWnlWMDlqVFdsRlNsazRhV0paWlhwblFWZDFkRGNyVjBFdlRrWXhWMDExWkVjdmVsZG5kVmRQTlRsMVFXRlFlRWQwUm5SWlRqZEJUemRTV2tSRGJHRnliM0lyUzA5TlRtZHpXalF2WW1NMk5FTm1Uak40ZFdZeVJFOWtUakJJTjI4MlZVcExhMDFLYVVOd1pHTkZUWGxUTTFaMVNGSnNSVlprVlUxcU0ycGxabE5sUTAxR1JtRmliSEJYTUZselEyVkNRVFUzV2xOM1dYQklLMDVLTldrcmExbGtNM1pqYkN0emMxRlJlVlJITld4WlVpdGlNbkZXV0RWRVdsVlZUWFYwTUZkVVRYWXJNMGhLUW5wTmNGTnVUalozUFQwPSI6MSwiVUdGMWJDQkpjbWx6YUFwd1lYVnNMbWx5YVhOb1FHZHRZV2xzTG1OdmJTeFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF4THpBM0x6SXdNVGNLY1c1eVdHZHRZM1JVSzJRNFFVVTNNRWx2TVZWUmJ5czNTR3hvVGtWdGNVaFVWbk5wY21KWlZDdDZNamhMVGpWd2RUWjZhV1k1UWtkSE4wUlpNRk4yZW14QlQwTlFlWEphVG5vemIzaEpPVU51ZDFsVU1tWmhSR001ZUdwaVVteG1ZbXB3TURsVlRUQmlOMjl5TURWeldFWkhNa3N6U0ZWbVkzWk5Oa000YUcwNWRWbHlaV2xYTkV0TU1Xd3dSVE5HZFVob1pYaDFSM2x2Wm1GQ2RXNUdNakYxWTBWaWNWY3hTRXh1Y0hWRGJFNHJLelJvWWl0VlowaFdiWGhMZWpVM1R6QjJUbFZsVEdzcmFuRlVWU3RDUlUxWWVrNU5ZMWxMVlZGNmIwZHhNRlF3YzFvdldtNTFaMDE1VmpKU1VXeFFlRzFVYUcxblIzaEVTU3RSVVRKNmNYZHBSMjFSZVdGelNGUkxhVFZXUjJ0UVdEWldhbFZsTUdOVmNrVlFMMEp0TkM5V2RYZG9iVmRxUldWU1REWjBiMDQ1TkhwdlJXRmxVRU5KSzNsdVFuZEdUekZMZGtSM2IzWTJaa2xZTURKaGJ6SnRka3QzUFQwPSI6MSwiVkc5aWFXRnpJRUZ1WkdWeWMyVnVDblJ2WW1saGMwQXliV2x1WkM1a2F5eFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF5THpBNUx6SXdNVGNLWWpOMlRUaG5Sbk51YUhkeE9HVXJablV5ZUhWd1ZVVmlUa3hYYzFOV1VqSjBZbVZUUkhWTVRHcEpOME41UTI1UldFOTZkMlZvTDBSUEwyUk1OaXMyZGs5WVZ6ZGFVMUEzVFM5RFQzWXhlbmR0TDFkNlNFWXhWMHRLWlZOWmNsZHZWRmRZTkRsbVNFSldURTlNVG1KRmQwNUllVmgwTTBSM1dubDFhMlprUVVKVlUxbFZRMkYwYXpCMk9HRnhjRzUwTkRrMkwxUlZWRWRuV1haRmFrNUpTMjlhTWs1WE5IUnlTa0o1UXpjdksyZ3lTMHhFVTFOeFkyZG9ZV3BqUVN0YVkwVjZOelpPYjNKQlNtNHJOV05FUjJKTlVHOVpZMjgyY0ZscllYaDNjaXRRYTB0d1ZFSm9jblU0V0hSVVZIbDRlRlpaTURBeFNtSldibWxWTjNaUVltVlhXVmhqUlROblZuUnRjVkUwWmpOTGMyTldaVGhFY2pZd1l6WnBTVW8xSzNaclVGTTNMelJyUmxNMFMwNUNSVmxSWTFWeEwzRmlPVTVvVmtONVVWRlVhR0ZGWTBkcmJrMVBkRTFsVUdOM2RXRkxTVXhCUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqZG5kdWRXa0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS1F6aDBaWHBQZUZsbGIxRklhMjFUT1U5NFNEWmlNM1IwYzNkalJ6WndXakp5YVRjelJETkRkQ3Q0YlZGeFNIb3pjVGhhVjJGeU9USlhLekpVVlhKcFdIbG9UMDVHVW5SalpWZHdlRWx5TkZoallYTTBTakZzYm5OU2FqbHpaSFpsTTNaclFXMHpLMGxVT1dWdlNFMTBXbWROVDBKRlRqZGxiM1pVVmtGb09UUkxLMjgxUW5kYU9FTkxZVEpRZW1WS1RVaHpkRVp5ZDJ0R2MwdFNNbEJvUzBRdk1EVndaRGRMTnpjNGREbHZRM2hQZERWRE4zRnNZVFZzVFdkNVNscHVVVU5wVDNGR2VqSk1TM0YyU1RncmNEVnlOemt3V2poTVJUUlBVRkZqVUROdFRrd3JOWGQyUzFkeVoyaHpUVFl3YVhWVU0zRkhiSFY1VWtGTGVTOXpia3c0ZFhReWJqTjNkbnB2TkhnclZGVnRZbkZKVjJ4alkwRkVTM2hzVERGRlRpdDFhVnBJWnpGcmJXbDFlbkpDVWxOVlZ6Wm5haTlGYVhKdGFUUk1jM1poU2xocFEycHRjVzh5UWk5NFNFUjFOSFkxY21aUlBUMD0iOjEsIlYybHVJRlJsWTJodWIyeHZaMmxsY3lBb1ZVc3BJRXgwWkNBamNXTm9PSFVLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQTNMekV3THpJd01UY0tka3RqTVdjd09FeHZkWEJQVUVOSVIxbEhTa2RIYkdObVdXcHFSazg1TjFaRmVXdEtkazVYU25Gd2NUaDVkRk5PUWtKVldrRmtVMGxWT1hKRFpXRkZTbTg0WTJKb1RrcFpaelZWZG1KS1lUVjVXWGxrZDNRMmVWcENiMHBvUmt0WldqQlZiRkVyZFVOUmRrOUlTbGhHWkV0NlNHTm1UbmxyWW5rNFQyWlBjemhNVW1GUFNHTkdkVWcyTjBNNFMyWlNhbUZJYVc1cWR6RnpURkpVWjBKUmRUWTJaRU50VkhablNubDZVSFIzYWxCVE9UVlJPVk5XZHpoUlN6VjNhR0l3VXpKeVRIQXZRbXhOY21nMVdXZzJha1ZwUmtSeE4xWXpUWGdyUVdWelJXeGtXSHBLWWxkSVpqTnFaRXhLU25GRVZ5OVdNaTlTWnpjeVFuWnRiMWhtY0VScVRXWjNkbVF3VGxZeFNITklVemc0ZEhGTVozbENjSGxvYmxaWlNEbGxTMFZTVWtseWJuTllhMVptVDJkUWFUUnNWMlJUU21kUGRVVjVVV2xZZWt4blJHeEhNVkkzUVhWdlpHZFVaVW80Y3k5a1dWWlJQVDA9IjoxLCJVM1JsWm1GdUlGUm9iMjFoY3dwdGIyOXVRR3AxYzNSdGIyOXVMbVJsTEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS01USXZNVEV2TWpBeE53cDZNVkprVWpWRlpXZHBWekZZTHpZeVRrczJSMFZKWmxCcVdXZ3JVVUZoUlhkTVZVdHViMHd4UVZOVmEwWXhaM2hKTVdsMVlVZFlTWGxLWm1Sak5HbE9ObUZKYmpWT2FXaFdWbTlzZDFrd2FFeEVSM3B0WVdaSlEydFhSVkp0WTFFd2NHOTBSM1kzTjBZd1puRXhhVFpQUVVWNlNGTnpTM3BQZWpaMFZVOHJjbWxXY0ZaalVIQlViRUoyZFVKa1RITTBlV2N6Wm1zMmNsbExWbnBJYTJOSGVpOHdZbmxMZFVWWVNUTkVURVJvUTNGS1UyOHhWWFpOYVVkUFZsQktVV05aV0dwcmRrcFhVWGN6UVZWSWFrdDFOWEJVVFZOQlRtTklkRkpzVVZoeGFsRklTMWxhWjNKWk0waDRXRFJtY0ZWcVMwcFdTRFpqVFZocFNUUjVNVWxuT0U4M09UZFZkVUV5TkdnNVozTnVSbFYxVjFoYVZWaGxkRTVHV2xWTVluSk1kVmh4VFVoaGFIRXhZalJsV210cmFVSnRXV2xFWkdFMU5Fd3dLelJNVG5OYVNGWk9Ra2RSUVRGd2MyMDJiQzlKYTFkNk4zYzlQUT09IjoxLCJUSFZqWVNCVGRHVmxZZ3BqYjI1MFlXTjBRR3gxWTJFdGMzUmxaV0l1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9SbkpsWldSdmJTa0tNekV2TVRJdk1qQXhOd3B5ZUZZck5WWnNObE5UUTJ0Uk4zQXZia3RvYjA5NGQzYzFkRU1yTW1vNWFHOXVORUphZUVoV1QyMTVRa0ZxTW0xWmVFODRSRkJRVFhOdmNWbDNObU5PVWpkbVVVSndWSFpqZWt4bmFtSXpjM2h1YUdwNU9FUjJUa3R0YTFGbGNXcFZkVmhxYVRCSFIxbFRTa2RaT1ZaWFJqbHFaMmwxVW1oTlowVk9MMWN3TXpWWmRGTTBRME15Umk4d2NVRlpNVmRXVmpoU01qWlFWRE5PY3k4dlVFZDJiVEUyZUhvclZqaEdja1JsZWs0NWF6UmphRkZMT0RSQlJqQkdkVm94TUVwdE5qUjFaRWhOVTNsSWVtZGtlV0ZMVjNkUFRHUmlZV3N3Vm5ZNVNqZ3JPRGt6YzFaRU1VdDZXalpZU21rMFpUWXdabFkzUjFKMmJWaFVkRnBtYWxGSE1UQXdkV1JJTkc5T09VbHdPSGRVUkhZNGJrZExlRGhLV0hWdVpHODJNbEY0Y0hJMlQwcG5XaXRZV0M4eFFsRm1UMVJvYzI5cVRXUm5SR3hYUTA0d2RrTlpMMDVxUlVaa1VHdGpVRnBRWkV0YVFVOTJRVUU5UFE9PSI6MSxURzkxYVhNZ1ZtRnVJR1JsSUVOaGJITmxlV1JsQ25aa1l5NXNiM1ZwYzBCbmJXRnBiQzVqYjIwc1YyRnNiR0ZpZVM1cWN5QndaWEp6YjI1aGJDQnNhV05sYm5ObElDaFdVeUJEYjJSbEtRb3hPQzh3TVM4eU1ERTRDa1I0WTB4WlRWRTBVQzgyYkdScGIycFRWVTlRWjBabGVYcHBiM0ZIWjA1aFoxYzJjM0pOTmpOeE9EWlhRekYwUVU1MldGVklhaXQzY1hweVFuZDZSa2RNWkdGVmRYaFRSVFZGUmtZeWFFaE9RMGROTTBaWmRsZE9jRGxUT1VSSWNDdHVORE13VUhkTk0yRjBXVlE1TVVOQk5YVkxZamRqYWt4Mk9VTmlUVVZOTURobk5ISkhOVVIxWW5vM1dIRXhlWFF4TWpsNFdVVjZhbXhaUW10U09VOUlNbnBQUlhKWGIwRnFVVzVQZVZoMGNXMVZSelZWTkdKTU1YcFNhRWhDVGtoeVJXTnRibWgwWlhoNWRIRkROVGR5VEhKR2VqSkZORk5MYTJWa2VUYzFjMnB6Ym1oSU1WaFpOR3hQT0hkeFFrVTVTa3A2Vm5WWFJtMWtjVWh5WW5KQ2JVWkdhVVZFTTFoT2NsWkVaVUZoYm1kMlVXZE9RMDUwV2tSQlQzZDBRVE5HVjFaT1RFUnFNamxyY21KMFFqSlFOMHR0UldsV1UxSTBXVGROVjJ4MWFrMDBXbmcyZVhWb2J5dHNPVWRsYUVKNlZISTBkejA5OjEsIlJHOXRhWE52Wm5RZ1VHbHZkSElnVG05M1lXc0tjQzV1YjNkaGF6SkFaMjFoYVd3dVkyOXRMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRBdk1ESXZNakF4T0FwMFZ6bDJXbGxOWVVwQ1IzTnBNMEpJUjBkWVUzbHFPRFYyT1ZkTlZUTTFSbEprZVZsUlVVTnhaWEpuVUZkTGJrbEhWRmh0ZUdWaEszSlFURWhySzJselFVeDRaRU5tZFZneE56bFFZeTlxWjNSMloxSk5jV2NyU1hsbWJYbzFPV01yWTFBNWNHSnZOREIyT0ZZcmIwWkdOM1pCWkZoVmMwVTFURkJ4U2t4Q1NuRjBlV2hMSzBKSmVXZHZOVFowYTNoRmMyOW9NRGsyYTAxRGRuZE5SbVl3Yld4NFVGb3diazlzUTFndlFrSnNMMHB0ZEdSM04wcGpLMU5ZZVRjeVZUWkthR1ZwV0VsVk5HaENSVkZNZVVKcFJtdFFPR0pZWjNjeVlXTXJUbWgyU2xsWmJWaDBjMjFHTHpSUlRqRnphVUpDWjNwMWRHWjZWVWhhU25KV05GZExOR1JqVmpjNVp6VnpZaXRaVVhsRmRtaHROakZWWVdWMVFtWnBhRnBKVWtKNmNGbERhbFJDVTFJM2RFSmhWWGRHVnpkbmRIaG5ZblZUUWtRMWMwNVdWV0YwY0dVeGRYQnRURlJ4TWtWRU1VRktTR1pMTUZFOVBRPT0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpabmw2TUhjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWTJ0UlZ6azNSbk5qU3l0SFdVWkNTRnB0YVZoTVYyOVRkbEZoVTJrNFF6UTBMMWQzWVdFd1dFMXZWbVIwUlVRMWNuWXJOaTlrWXpSUFVUWlZhRlYxT0UxdllrMVVkemR0WkdwNVRHVkVNamQwY2paalJrMXlZakJ0YUhkeE0zZDRhelkwZFc5NGFrdE1WbXMxU0dSb2FGVmlWRkpDSzJsdmJtNDVPV0ZtTDJodFRVZFhVVmxuYTB4UldXZEhja3RCWmtsSmF6RTVTVmRZTVU1cVFpczVZVkZpTVdORFdGUjNSSG80UTB4T1VtUlVNRFpLUW5OdmIxQndlbEZ2TUdsQ2JrdFdTRlZUVjA5U1MwZ3pPRUZzTjB4SWFEY3hiVXcyVlcxa1ZHMUZhVkZIWW5RNFFqQllkUzgxU2xaMWRXdDJSSEUwWm5aTGVHNXZla3BoVjFBclRYcHlSMU0wZWt0dldFOXBha0prUm5VNVRURXpkeXRaVGk4MVZXOWlRMEV4U2xSelFtTXlkbWMyU0hGVU0xbDZRMU5HTlZrMmRqVjRXVGh1ZUdNeE9UVkxkRE50ZW5wcE1tOHljbVZPUWtSNVFuQkhUVEJSUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak1HWTBOM2NLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tkMHh5VDFGdFRWQm1SV3BWZUhaSWN6WnhhMFZoYUdwVWRYZE1TazFEVWxsVWNVVktaSGRYY2psTU5VcERWRmMxYlhscGJYTTFVV1JXTms5V2JsUnNibEp3UzFWbFFrUkhXRGN3YzNwNFREWXZiVFZ2WldkbFNHWm1aVGxpUTNGM1FYWlpLM3BPYTBSeEwwUXpSMnRrZDJwWk5qbFRiV3h5UkhoMlozRm5VRTkyTVRndlRXeEhlRWhHU21kVmJtOVRWbmdyUWpKNWEzbDNXV0pUYnpKSE5ubGpXamRYY0c5TE9IbDBaRWx0YWxNcmFGZDRRME0yTTBOb1VHb3piM1UwZVhCNE1tSXdjMEZUTlUxdmFXcGFXRWhLYzNNeVJVOHZWR2hZV1U5RVlqaE1VVEZXYzJGNlREaExSRFozVldoT1NHVmhaa1JzZEdwaVVtVnViVU5pZGxBME9XdHViWEZMWms1VGRXeDRja0YwZVRBMWExTkdNamh2U21VMFFUVkRXR0puWjFsTE16TjRXbnAxTkd0NGFtdFBWM0pKTDBkeGJUaHliR0o2VHpWV1JqTkJVRVF2WTBRdmFXTlJjVE4yVDJvMFpWRlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqWWpadFl6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2JHZDRSU3R1UWtkeGFqVXJXWGQxYWxneVdVRmtjMHhOWjB4M2FrNXBPRmxtU0hkSlZuZHhVV05ZTWtWcGRraE5XbEZGUXpWMU9DODJiemRNT1ZjME4ybFBSM05aUzBOR1IwY3pXa3BqU0hkRU1EVjNOVWxWUWxKclFrZ3dWVEk1UmxneFYwMVBXV1ZrU1RoTVZtSTVkMlV6ZFVrNU9HOVFTVW81WkhkdVZHRjVlakJWSzJrNWNrZDZjRzVyVFhWblduaE9ZakIxVjJ0WVdGbEZWa3RsTDJGbGJpczViV3RhVFZCQ0wxRnhaR2RRTVROYWJtWm9PRXA0UlVkd2RqWllWRE5SWXpsemEwZzVTRkpQYVVaMldGQXhUbTE1TlRkbmNVcFVkWE13YVhGWmEycFdWbU5zZWxwaFJVMUpLME5SZUdSRWEwc3dia295V1hWWU5ERTFZemt6WkZwb0t6ZHFiRnBuWkhWQmEyNVBXVUp4YUZWeE1qUjZiVXRyUXprNVlWZGhOMDVhWVdwaGNVd3ZSazloTDBSck1taFlaR1pQVW5rNGNtbGFiMk5VSzNCSlYyVktaMGgwY1hKVVJGbHlRbTVzUlVwM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNemRyY0hnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWkhocEsxSldla2RXTkZKTVYzRlRWVTVZU1daTFR5dHpNM0pVSzNZeVNqZzFZelJTTDJaRVRITjZjbXc1V1doRmFtTllLMk5NVDBSSFVXTnFVV0prZEZKTGNHUkxaVTF5U2taMmFVMDNWbVZqZG5NdksxRmFibXh1TUd0RmNrdFhVMjRyTURSR05HRnVaMlowY0dOaVJtMTFaakJMTHl0NFVYWmhVM0E0T0VSbFRUaFpNV3B1VGpKUmF6SnhkRVZRY0N0Uk9HZERVaTlhUTJ4RlZGWnpVRmxJUnpST015OUpVVEpWVm5SV1NYaDJkSFY2TjBsa2VWVjNURTE1V21WS1QwOXpTVWROTldwaU5YbHZkM0J4VlZKamNFWlhUbEF2V1hoWVpGZ3JUbU5UUXpNdldtMHdiV2hsVUhSSlJHZGxUSEl5V0d3dlUyRnJhUzlYUVRSWGNIZG9hWFF6ZHl0aWIzbDFhRkJ2WlVoRWFFWlBOM2t3VGpVM1ltUkRTU3RsVHpjMVR6UTBjRnBWUW10ME1HNDRXbkJoV1ZNNFVEZEdUVWRUV0hwck1FbE5hbUpvVmt0WmEzbzRlall2WlU1REsweHNSU3QzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamRqSnZkemdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVa2t4U3padGRqaDZRV3B0VGtSRWRYUlliWFZ4ZW1VNGJHdFRhRkpSZURSRlNUbElVVFZYUVRsWVduZGhWRGMxUW1kb2NIcFRhWHBCZEZwNFlWaDVaRU5SYkVaRVRHSXdjMmhGWldOQ1FuTk5ha3hYZEUxcFJ6UkhaMGxWZEdaTk1UVlNSRWQ1TVRsc1VsazNVV1pUU0hoSlZrbEdiVFkxVkdwdWEzVldOSFpRUkhkQk5sTlNlV2xMYVVaNUsxZHBLM1JOWW5jNVlTdEVVMmc0TmpsNlVqRk5jbkpRV2tacFJXTXhkRWwxUldwV1Z5OVZibmhITW1oaE5HWXJWVk0zZVZwNWVXcEtUelJZV25jeFZTdGhSVTlQYmt4clFsaHNhMjkwWTNGbE1FRXJNaTl2VDI5c1ZXWTJXVFJSYVVscWVXaHNXWFJVY1RJdlozQlZka1YzZFhsVmFsZHhNa1I1TlZNNVRuVmxLelZzTDNKTlVFaFFaMFJWVXpOV2JXWnlNSG92UWpGRlNHTlpTM0pzVlRJeFdtaFJUM2h3ZUVsblUycHpXV1J0VGtOWVluUlJja3RrVmpSWVZteEpkMlprVGxoR1kwSm5QVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTWpWaU1uSUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2FFcE9PRzF5TkdFemFtbDRlbVZTYjFsdk16SndVRzAzTlhndkwyaDRRa3RsWjNkcGQxcFhNMUZFU2s1TlZXdFZNVzlyTm5sVVVFdzBaakowWkdob2MyWlFVM2hRSzJaWFZUbElhbTlvTjFSV1QzZFVjV1Z6T0ZsVVpGSkdNRFJ2YUZFNVNtVnFNbUZLZVUxSlkxUkdObUZ0YTB0UFdWWldZVVpETkRaWU9FcGFUVFZVUTFWdmJFTlhWaTlOVFdkallqZExPRVpYTkZwTFozWjBVRUZEWlZONmJWcHBibkZTZDBoaVRqQlZPRm94TUZNNU9YVkxMMWRMZFVsQmRuUmhVamR0VFdkS1kyeGFlRmgzTkdkVlJERjBiMW80YWsxVE9FaENXbloyYjFsWWFFdFRWVXhGZVU0dldFNWplREE0WTNCVlYyVXJjWE4wTVhGVlJGQXpaamR0TjFWTVYxbHNSblk1VTA4clVWaGxOV0ZJUTNwbFREWmxRM2MzV0ZFd1NFWkdWV05ZYkhkaVozVnJNMjB5VTFaelZESnNRMVp6ZVc1NVltbDBaMlZOTW1KUmJYaEtibkJHZEZoWFVFNTBSVTVKUW1kM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpibmwyYWpjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLVTFkWVVXaHhka05vWWpkMmNtcFhkREY0VjI5eFRTOTNia0ZGWW5FeFQybDVUbXhPZDFGeWVXTmFMMVJKZFVZd1V5OTNWblpZYWxsU1dFSk5WRFo1V2poa0swbFdMMXB5UmxGQ1pGTmhTalJYWWtGSU5rNVpSalpZWm5ZMlpUQnFjelJ6TWxSNWVFWkZaemg1WmxSUE9YRm9SbUZ5TTFsclVrOVBURXhpTVdzemN6QlJOSEpXZEZKaEswZFFXSGN3VEVacllVMUtVRTEzUkhobVdYcFNiVE5DYjJKcWJDdG5iMlpPV21GSVNVSTFlWEF3VDI1YVJrVTVaMjFaZEhBNFpISmtZMjVzZDNsMFRYRjBRVzFoT1M5alFVMHZNU3RsUzNKRVJ6aHdTVVpWY1c1b2RIcG1SRTFZVlRodFRtOHZSVVpyU2pkRGFVeG5ObkJZYkVJMU4wd3hkVEJoU21ZelUwbHpkRTF4ZDBzNFRVOVFXRlZGWTFaT0wzVmxZMFZVSzNCRlYyOXBSM1IyT1ZWSk0yUmxPV0pyU0hoa2RVWklUR1o1ZWsxVU9GZDFaazFyUzFoYVZUUmtjaXRXZDAwMU5rRlBNVU5uUFQwPSI6MSwiVm1sdVkyVnVkQ0JHYjNWeWJtbGxjZ3AyYVc1alpVQnVkR1p2ZFhKdWFXVnlMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tFWnlaV1ZrYjIwcENqRTNMekEzTHpJd01UZ0tiSEpMT1ZSak4xTXlXV05XWjA5RGNEUldXVWx4VUZsWGIzZGxMekUxTkdacVpsZFFTVE5rT0ZocFlUTnlhM1ZXV1V4SWFraEpXRGhJTm5BMGQwY3ZNV0ZFTVdoMFJIbDBNSFpHUWtGd1p6UkxSWFEzWWs5elIyRm9jRzVIYTB0dU9IWnNlalI1VFVwNFNETkpTMVJ5YkVsU2VHc3hiRmhYT0RCR1ptMHpVMDV1ZG5WSWIzUlJZME00YURSMlVGRTJaRnBFT0ZSNlVIUnNPRW94VURsMlNsVkZVMEpzUm05TWRuUlFNMVZPYUM5NVYyZFJRVU40ZEhrdlFXNWhlbEZOV0hGRlRFWllTRVZPZFZOck1HZERUbGRGT0c5SmRVVjRPVzQ1TDNJNVIydElNbFJ0YzFkQ2NsSkdjRFpwV2taUE4wbHNNRFJhZDBOTmNsZEpZME14TldseU5WUmtWV3htTXpWSkwyRndXVWh6YW1wNVZqTnlNSFZzVlVocE5WUlRUbGxPU2pSa1EwUjRiVkZMTm5wUGQxVmxSMjF1TDJrdmVHZzVaME5GZFdobWREQnJOMWx5YkhVMGNERnlZM2swV2tsd1p6Um5QVDA9IjoxLFRtbHJiR0Z6SUV4cGJHeHhkbWx6ZEFwdWFXdHNZWE11Ykdsc2JIRjJhWE4wUUdkdFlXbHNMbU52YlN4UmRXOXJhMkV1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlFveU9DOHdPUzh5TURFNENsTkplR2R6WW1Oak1tdDNaV2MxVFVOa2VYaExiR00zTm01VlRVTlNlRVJUTVM5SU9UYzFRa28zUnpOaU5XaFdjVGx3ZUVGNGRtZDJNR3RRVFdwdmEwbHNVVFp4Y0N0MVFWQlVNR0ZyUmt4b2VrSjNiVGQzVm1KRVNVNVBTbGxtY2twMVprbzRVRU5UTVN0WmRVcFdTRGdyVUd0cVRrbGxVM2RDU0U0ME1tTnFXRWhsWmxaalZVTXJRaXRDVEZKb2JWcElNMEZDVjBSdWRGVmlkRUZvZEVFNVlVODFORnAwVW1OYVVEQjFMMjUzVnpkV2RWRnRRMHROUzNsTFF5OUVhRmh2VVU5R1dVcHFTWFZUTVdwQlZ6RkVLM0ZPZWk4eVdVUkNiMWhwTWpJeGMxaFZkRXRKZDNoYWFtRndOVWxzU1UxVE5FOVdiMFZ4ZVdVMFpFSTVhV05RTlV0bWMxWXJRakZpYUdWbldGTlZSV2RrTnpKMUszVkhOWGx5V0hCWlpEZHFVWEJLUld4dk1tTXZVWEpyZWxjMk5WaElZalpZV1d4bWVGbEdWVTFPUmtscFNqbG9MMFpHWmpKVVNYSnpVSEYxUW5FcmR6MDk6MX07Xy5lYWNoKFYsZnVuY3Rpb24oZSx0KXt0cnl7VltfLnJ0cmltKHAucGFyc2VLZXkodCkubGljZW5zZVNpZ25hdHVyZSwiPSIpXT0xfWNhdGNoKG4pe319KTt2YXIgYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcyxpPW47bi5fZGlmZk1hdGNoUGF0Y2g9ZS5kaWZmTWF0Y2hQYXRjaDt2YXIgcj1lLlByb2plY3Q7cmV0dXJuIG4uX3Byb2plY3Q9bmV3IHIoZSksZS5xdW9ra2E/KGY9NmU1LHk9NSx2PTIpOmRlbGV0ZSBwcm9jZXNzLmVudi5xdW9ra2Esbi5fcXVva2thPWUucXVva2thLG4uX3F1b2trYUVkaXRpb249ZS5lZGl0aW9uLG4uX3Byb2plY3Qub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe2lmKCEhZS5xdW9ra2E9PSEhcHJvY2Vzcy5lbnYucXVva2thKXt2YXIgbj1pWyJwcm9qZWN0OiIrdC50eXBlXTtuJiZuLmNhbGwoaSx0KX19KSxuLl9mcz1uZXcgZChuLl9wcm9qZWN0Ll9sb2NhbFJvb3QsZSksbi5fbW9kZWw9bmV3IGgoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gaS5fZnMuaWRCeVBhdGgoZSl9LHByb2plY3Q6bi5fcHJvamVjdCxhbHdheXNTZW5kQWxsTGluZXM6IlZTQ29kZSI9PT1lLmNsaWVudHx8bi5fcXVva2thJiYiQXRvbSIhPT1lLmNsaWVudH0pLG4uX21vZGVsLm9uKCJtZXNzYWdlIixmdW5jdGlvbihlKXt2YXIgdD1pWyJtb2RlbDoiK2UudHlwZV07dCYmdC5jYWxsKGksZSl9KSxuLl9wcm9qZWN0Ll9tb2RlbD1uLl9tb2RlbCxuLl9yZWFkRmlsZVN5bmM9ZS5yZWFkRmlsZVN5bmMsbi5fd3JpdGVGaWxlU3luYz1lLndyaXRlRmlsZVN5bmMsKCFlLnF1b2trYXx8bi5fcXVva2thRWRpdGlvbikmJm4uX3ZlcmlmeUxpY2Vuc2UoZS5xdW9ra2E/IlF1b2trYSI6ZS5jbGllbnQsZS5sa3ApLG4uX2NvbnNvbGVPdXRwdXQ9W10sbn1yZXR1cm4gaShuLHQpLG4ucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUuX3J1bklmVmVyaWZpZWQoZnVuY3Rpb24oKXtyZXR1cm4gZS5fcHJvamVjdC5jb25maWd1cmUoKX0pfSxuLnByb3RvdHlwZS5maWxlQ2hhbmdlZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuX2ZzLmZpbGVDaGFuZ2VkSW5FZGl0b3IoZS5wYXRoLGUuY29udGVudCxlLmNoYW5nZUZyYW1lKX0sbi5wcm90b3R5cGUuZmlsZU9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKTt0JiYodC5vcGVuZWRJbkVkaXRvcigpLHRoaXMuX2VtaXREb2N1bWVudExpbmVzKHQpKX0sbi5wcm90b3R5cGUuZmlsZUNsb3NlZEluQWxsRWRpdG9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCk7dCYmdC5jbG9zZWRJbkFsbEVkaXRvcnMoKX0sbi5wcm90b3R5cGUucnVuVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLG49ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuZXh0ZXJuYWxGaWxlQ2hhbmdlLGk9ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuaW5zdGFsbFBhY2thZ2U7aWYoaSYmdCYmdC5xdW9ra2EmJnQucXVva2thLmluc3RhbGxQYWNrYWdlJiZpLm5hbWU9PT1wLnZhbGlkUGFja2FnZU5hbWUoaS5uYW1lKSYmdC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuY29tbWFuZCl0cnl7bChwLmZvcm1hdCh0LnF1b2trYS5pbnN0YWxsUGFja2FnZS5jb21tYW5kLHtwYWNrYWdlTmFtZTppLm5hbWV9KSx7c3RkaW86InBpcGUiLGN3ZDppLmxvY2FsP3Byb2Nlc3MuY3dkKCk6dC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuZGlyfSl9Y2F0Y2gocil7cmV0dXJuIHZvaWQgdGhpcy5fZW1pdFN0YXRzVXBkYXRlKHIubWVzc2FnZSl9dmFyIHM9dGhpcy5fbW9kZWwudGVzdHNCeVJlcXVlc3QoZS5yZXF1ZXN0KTt0aGlzLl9wcm9qZWN0LnJ1blRlc3RzKHt0ZXN0czpzLmxlbmd0aCYmc3x8dm9pZCAwLGV4dGVybmFsRmlsZUNoYW5nZTpufSl9LG4ucHJvdG90eXBlLmluc3RydW1lbnRlZEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToiaW5zdHJ1bWVudGVkRmlsZSIsaWQ6ZS5pZCxkYXRhOnRoaXMuX3Byb2plY3QuZ2V0SW5zdHJ1bWVudGVkSmF2YVNjcmlwdEZpbGVDb250ZW50QnlQYXRoKGUucmVxdWVzdC5wYXRoKX0pfSxuLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZzLnN0b3AoKSx0aGlzLl9wcm9qZWN0LnN0b3AoKX0sbi5wcm90b3R5cGUudW5jb3ZlcmVkUmVnaW9ucz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToidW5jb3ZlcmVkUmVnaW9ucyIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3QodCk7cmV0dXJuIGk/KG4uZGF0YS5yYW5nZXM9aSx2b2lkIHRoaXMuX2VtaXQobikpOnZvaWQgdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkFjdGlvbiBpcyBub3QgYXZhaWxhYmxlIGZvciBmaWxlcyBvdXRzaWRlIHdhbGxhYnkuanMgc2NvcGUiKX0sbi5wcm90b3R5cGUubGluZVJlcG9ydD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcXVlc3Qsbj17dHlwZToibGluZVJlcG9ydCIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLmxpbmVSZXBvcnRCeVJlcXVlc3QodCk7cmV0dXJuIGk/KG4uZGF0YS5yZXBvcnQ9aSx2b2lkIHRoaXMuX2VtaXQobikpOnZvaWQgdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkFjdGlvbiBpcyBub3QgYXZhaWxhYmxlIGZvciBmaWxlcyBvdXRzaWRlIHdhbGxhYnkuanMgc2NvcGUiKX0sbi5wcm90b3R5cGUubG9jYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6ImxvY2F0aW9uIixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwubG9jYXRpb25CeVJlcXVlc3QodCk7aT9pLmZpbGU/KG4uZGF0YS5maWxlPWkuZmlsZSxuLmRhdGEubG9jPWkubG9jLHRoaXMuX2VtaXQobikpOnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGxvY2F0ZSBhIGZhaWxpbmcgdGVzdCIpOnRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJDYW4gbm90IGZpbmQgYW55IGZhaWxpbmcgdGVzdHMiKX0sbi5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6ImVycm9yIixkYXRhOnt9LGlkOmUuaWR9LGk9dGhpcy5fbW9kZWwuZXJyb3JCeVJlcXVlc3QodCk7aT9uLmRhdGEuZXJyb3I9aToiZmFpbGluZ1Rlc3QiPT09dC50eXBlJiZ0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQ2FuIG5vdCBmaW5kIGFueSB0ZXN0IGVycm9ycyIpLHRoaXMuX2VtaXQobil9LG4ucHJvdG90eXBlLmNvbnRpbnVlVHJpYWw9ZnVuY3Rpb24oKXt0aGlzLl9jb250aW51ZVRyaWFsU2Vzc2lvbiYmdGhpcy5fY29udGludWVUcmlhbFNlc3Npb24oKX0sbi5wcm90b3R5cGVbInByb2plY3Q6cHJvamVjdENvbmZpZ3VyZWQiXT1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3M9ZSgiZGVidWciKSgid2FsbGFieTpleHRlbmRlZC1jb3JlIiksdGhpcy5fZnMuc2V0dXAodC5maWxlcyx0aGlzLl9wcm9qZWN0JiZ0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4uX3N0YXJ0KHtmaWxlczpuLl9maWxlc0ZvclByb2plY3QoZSl9KX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBzZXQgdXAgcHJvamVjdCBmaWxlIHN5c3RlbTogIituLl9lcnJvck1lc3NhZ2UoZSkpLG4uX2VtaXRUZXN0UnVuRXJyb3Iobi5fdGVzdFJ1bkVycm9yTWVzc2FnZShlKSl9KSx0aGlzLl9mcy5vbigiYWRkZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImxvYWRlZCIsXy5iaW5kKHRoaXMuX3VwZGF0ZVByb2plY3RGaWxlLHRoaXMsITEpKSx0aGlzLl9mcy5vbigiY2hhbmdlZCIsXy5iaW5kKHRoaXMuX3VwZGF0ZVByb2plY3RGaWxlLHRoaXMsITEpKSx0aGlzLl9mcy5vbigiZGVsZXRlZCIsXy5iaW5kKHRoaXMuX3VwZGF0ZVByb2plY3RGaWxlLHRoaXMsITApKSx0aGlzLl9mcy5vbigiZXJyb3IiLGZ1bmN0aW9uKGUpe2NvbnNvbGUuZXJyb3IoIkZpbGUgc3lzdGVtIGVycm9yOiAiK24uX2Vycm9yTWVzc2FnZShlKSksbi5fZW1pdFRlc3RSdW5FcnJvcihuLl90ZXN0UnVuRXJyb3JNZXNzYWdlKGUpKX0pLHRoaXMuX2ZzLm9uKCJub3RDaGFuZ2VkIixmdW5jdGlvbihlLHQsaSl7dHJ5e2lmKGkmJmkuc3RhcnQ9PT1pLmVuZClyZXR1cm47cygiRmlsZSB3YXMgbm90IGNoYW5nZWQsIGJ1dCBmaWxlIG1hcmtlcnMgbWF5IG5lZWQgdG8gYmUgc3luY2VkIik7dmFyIHI9bi5fbW9kZWwuZmlsZUJ5SWQoZS5pZCk7aWYoIXIpcmV0dXJuO24uX2VtaXREb2N1bWVudExpbmVzKHIpfWZpbmFsbHl7bi5fZW1pdFN0YXRzVXBkYXRlKCl9fSl9LG4ucHJvdG90eXBlLl9lbWl0RG9jdW1lbnRMaW5lcz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3RbZS5wYXRoKCldPWUuYWxsTGluZXMoKSx0aGlzLl9lbWl0RG9jdW1lbnRVcGRhdGVzKHQpfSxuLnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UnVuRXJyb3IiXT1mdW5jdGlvbihlKXtpZihwcm9jZXNzLmVudi5xdW9ra2EmJmUubWVzc2FnZSl7ZS5tZXNzYWdlPWUubWVzc2FnZS5yZXBsYWNlKCJQb3N0cHJvY2Vzc29yIHJ1biBmYWlsdXJlOiAiLCIiKTt2YXIgdD1lLm1lc3NhZ2UuaW5kZXhPZigiLCBTeW50YXhFcnJvcjoiKTtpZih0PjApe2UubWVzc2FnZT1lLm1lc3NhZ2Uuc3Vic3RyKHQrMik7Zm9yKHZhciBuPWUubWVzc2FnZS5zcGxpdCgiXG4iKSxpPTA7aTxuLmxlbmd0aCYmIV8uc3RhcnRzV2l0aChfLnRyaW1MZWZ0KG5baV0pLCJhdCAiKTtpKyspO2UubWVzc2FnZT1uLnNsaWNlKDAsaSkuam9pbigiXG4iKX19dGhpcy5fZW1pdFN0YXRzVXBkYXRlKGUubWVzc2FnZSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSdW5SZVF1ZXVlZCJdPWZ1bmN0aW9uKGUpe2lmKCFlLnRlc3RFcnJvclJlcG9ydGVkKXtpZihwcm9jZXNzLmVudi5xdW9ra2EmJiFlLnJlcnVuU2NoZWR1bGVkKXJldHVybjt0aGlzLl9lbWl0U3RhdHNVcGRhdGUodGhpcy5fbW9kZWwuZnVsbFRlc3RSZXN1bHRzUmVwb3J0KCkpfX0sbi5wcm90b3R5cGVbInByb2plY3Q6YnVzeSJdPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJDb25zb2xlT3V0cHV0U2VuZFF1ZXVlKCksdGhpcy5fZW1pdCh7dHlwZToiYnVzeSJ9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6bGl2ZSJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoZSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmNvbmZpZ0NoYW5nZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9xdW9ra2E9e3Bybzp0aGlzLl9hZGp1c3RRdW9ra2FGZWF0dXJlcyhlLnBybyxlLnNldHRpbmdzKX0sdGhpcy5fZW1pdChfLm9taXQoZSwiX2ludGVybmFsIiwic2V0dGluZ3MiKSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0Om1vZHVsZUxvYWRlZCJdPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2Vzc2lvbjtpZihkZWxldGUgZS5zZXNzaW9uLHRoaXMuX3F1b2trYSYmIXRoaXMuX3F1b2trYS5wcm8mJnQmJmUucGF0aCYmIX5lLnBhdGguaW5kZXhPZigibm9kZV9tb2R1bGVzIikmJn5lLnBhdGguaW5kZXhPZihvLnNlcCkpe3ZhciBuPSJPbmx5ICdQcm8nIGVkaXRpb24gb2YgUXVva2thLmpzIHN1cHBvcnRzIHByb2plY3QgZmlsZXMgaW1wb3J0LiI7dC5yZWplY3QobmV3IEVycm9yKG4pKSx0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIixuLHtzdWdnZXN0UHJvRWRpdGlvbjohMH0pfX0sbi5wcm90b3R5cGVbInByb2plY3Q6bmF2aWdhdGlvblJlcXVlc3RlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6ZS50eXBlLGZpbGU6ZS5wYXRoLGxvYzplLmxpbmUrKGUuY29sdW1uPyI6IitlLmNvbHVtbjoiIil9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6ZmlsZXNSZXF1aXJlZCJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fZnMubG9hZEZpbGVzKGUuZmlsZXMpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9lbWl0VGVzdFJ1bkVycm9yKHQuX2Vycm9yTWVzc2FnZShlKSl9KX0sbi5wcm90b3R5cGVbInByb2plY3Q6bGljZW5zZUNvbGxpc2lvbiJdPWZ1bmN0aW9uKGUpe3ZhciB0PXByb2Nlc3MuZW52LnF1b2trYT8iUXVva2thLmpzICdQcm8nIjoiV2FsbGFieS5qcyIsbj1wcm9jZXNzLmVudi5xdW9ra2E/Imh0dHBzOi8vcXVva2thanMuY29tL3BybyI6Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9wdXJjaGFzZSIsaT10KyIgaXMgc3RvcHBlZCBiZWNhdXNlIHlvdXIgbGljZW5zZSBpcyBiZWluZyB1c2VkIGVsc2V3aGVyZSBvbiB0aGUgbmV0d29yayBieSA8Yj4iKyhlLmFkZHJlc3N8fCJ1bmtub3duIGFkZHJlc3MiKSsnPC9iPi4gT25seSBvbmUgYWN0aXZlIGNvbXB1dGVyIGF0IHRoZSBzYW1lIHRpbWUgbWF5IHVzZSB0aGUgbGljZW5zZS48YnIvPklmIHlvdSB3b3VsZCBsaWtlIHRvIHB1cmNoYXNlIGFuIGFkZGl0aW9uYWwgbGljZW5zZSwgcGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4uIElmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicrbSsnIj5hY3RpdmF0ZSBpdDwvYT4uJzt0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJlcnJvciIsaSksdGhpcy5fZW1pdFN0b3BwZWQoKX0sbi5wcm90b3R5cGVbIm1vZGVsOnN0YXRzTWF5YmVDaGFuZ2VkIl09ZnVuY3Rpb24oZSl7dGhpcy5fY2xlYXJDb25zb2xlT3V0cHV0U2VuZFF1ZXVlKCkscHJvY2Vzcy5lbnYucXVva2thJiZ0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkuZXJyb3J8fHRoaXMuX2VtaXRTdGF0c1VwZGF0ZShlLnRlc3RSZXN1bHRzQ2hhbmdlZHx8cHJvY2Vzcy5lbnYucXVva2thP3RoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydChlLnRpbWUpOnZvaWQgMCl9LG4ucHJvdG90eXBlWyJtb2RlbDpkb2N1bWVudHNVcGRhdGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdERvY3VtZW50VXBkYXRlcyhlLmRvY3VtZW50cyl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQWRkZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0RmlsZXNUb1RyYWNrKFtlLmZpbGUucGF0aF0pfSxuLnByb3RvdHlwZVsibW9kZWw6Y29uc29sZU91dHB1dCJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fY29uc29sZU91dHB1dC5wdXNoKGUubWVzc2FnZSksdC5fY29uc29sZU91dHB1dFRpbWVvdXR8fHQuX3NjaGVkdWxlQ29uc29sZU91dHB1dFNlbmQoKX0sbi5wcm90b3R5cGUuX3NjaGVkdWxlQ29uc29sZU91dHB1dFNlbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NvbnNvbGVPdXRwdXRUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLl9jb25zb2xlT3V0cHV0Lmxlbmd0aCl7dmFyIHQ9ZS5fY29uc29sZU91dHB1dC5zcGxpY2UoMCwyMCk7ZS5fY29uc29sZU91dHB1dC5sZW5ndGg/ZS5fc2NoZWR1bGVDb25zb2xlT3V0cHV0U2VuZCgpOmUuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLGUuX2VtaXQoe3R5cGU6ImNvbnNvbGVPdXRwdXQiLG1lc3NhZ2VzOnR9KX19LDEwMCl9LG4ucHJvdG90eXBlLl9hZGp1c3RRdW9ra2FGZWF0dXJlcz1mdW5jdGlvbihlLHQpe3JldHVybiB0LmhpbnRzPXQuaGludHN8fHt9LHQuaGludHMuY29tbWVudEF1dG9Mb2c9ZT8iPyI6ITEsZXx8ZGVsZXRlIHQucXVva2thLmluc3RhbGxQYWNrYWdlLGV9LG4ucHJvdG90eXBlLl9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWU9ZnVuY3Rpb24oKXt0aGlzLl9jb25zb2xlT3V0cHV0Lmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9jb25zb2xlT3V0cHV0VGltZW91dH0sbi5wcm90b3R5cGUuX3VwZGF0ZVByb2plY3RGaWxlPWZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIG89dGhpcy5fbW9kZWwuZmlsZUJ5SWQodC5pZCk7aWYoIWUmJm8mJm8uaXNPcGVuZWRJbkVkaXRvcigpJiZvLmhhc1ZhbGlkRG9jdW1lbnQoKSl7dmFyIGE9ITA7aWYoXy5pc1BhdGNoKHQuY29udGVudCkmJl8uaXNTdHJpbmcobikmJmkpe3ZhciBsPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX2Zyb21UZXh0KHQuY29udGVudCk7aWYoMT09PWwubGVuZ3RoKXt2YXIgYz1sWzBdO2lmKGMmJmMuZGlmZnMmJmMuZGlmZnMubGVuZ3RoJiZjLnN0YXJ0MT09PWMuc3RhcnQyKXthPSExO3ZhciB1PWMuc3RhcnQxLGQ9Yy5kaWZmc1swXTswPT09ZFswXSYmKHUrPWRbMV0ubGVuZ3RoKTt2YXIgaD0wO2lmKF8uZWFjaChjLmRpZmZzLGZ1bmN0aW9uKGUpezAhPT1lWzBdJiYoaCs9ZVswXSooXy50ZXh0TGluZXMoZVsxXSkubGVuZ3RoLTEpKX0pLGgpe3ZhciBwPV8udGV4dExpbmVzKG4sdSkubGVuZ3RoLGY9Xy50ZXh0TGluZXMobixjLnN0YXJ0MSkubGVuZ3RoLGc9TWF0aC5hYnMoaCkseT1NYXRoLm1heChNYXRoLm1pbihpLnN0YXJ0LGYpLWcsMSksdj1NYXRoLm1heChpLmVuZCxmKTtvLnNoaWZ0RG9jdW1lbnRMaW5lcyhwLGgse3N0YXJ0OnksZW5kOnZ9KX1lbHNlIGkuc3RhcnQhPT1pLmVuZCYmby5pbnZhbGlkYXRlRG9jdW1lbnRMaW5lcygwLDAsaSl9fX1hJiYocygiTmV3IGRvY3VtZW50IG9yIGNvbXBsZXggZG9jdW1lbnQgY2hhbmdlIiksby5pbnZhbGlkYXRlRG9jdW1lbnQoKSl9dGhpcy5fcHJvamVjdC5maWxlKHtmaWxlOnRoaXMuX2ZpbGVGb3JQcm9qZWN0KHQpLCJkZWxldGUiOmUsaW5FZGl0b3I6cn0pfSxuLnByb3RvdHlwZS5fZmlsZXNGb3JQcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBfLm1hcChlLHRoaXMuX2ZpbGVGb3JQcm9qZWN0KX0sbi5wcm90b3R5cGUuX2ZpbGVGb3JQcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybntwYXRoOmUucGF0aCxpZDplLmlkLHRzOmUudHMsb3JkZXI6ZS5vcmRlcixpbmNsdWRlOmUubG9hZCx0cmlnZ2Vyc1Rlc3RzOmUudHJpZ2dlcixjb3ZlcmFibGU6ZS5pbnN0cnVtZW50LHRlc3Q6ZS50ZXN0LHR5cGU6ZS50eXBlLGJpbmFyeTplLmJpbmFyeSxjb250ZW50OmUuY29udGVudH19LG4ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZW1pdEZpbGVzVG9UcmFjayhfLm1hcChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhdGh9KSksZS5saWNlbnNlfHwoZS5saWNlbnNlPXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdCYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0Lmhhc2h8fHRoaXMuX3Byb2plY3QuX3dhbGxhYnlFbWFpbCksZS5leHBpcnlEYXRlfHwoZS5leHBpcnlEYXRlPXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdCYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlJiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUuc3BsaXQoIi8iKS5qb2luKCItIil8fHZvaWQgMCksdGhpcy5fcHJvamVjdC5zdGFydChlKX0sbi5wcm90b3R5cGUuX3ZlcmlmeUxpY2Vuc2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQ9dGhpcy5fbGljZW5zZVZlcmlmaWNhdGlvblJlc3VsdChlLHQpfSxuLnByb3RvdHlwZS5fcnVuSWZWZXJpZmllZD1mdW5jdGlvbihlKXtpZihwcm9jZXNzLmVudi5xdW9ra2EmJiF0aGlzLl9xdW9ra2FFZGl0aW9uKXJldHVybiBlKCk7dmFyIHQ9cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIixuPXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIjt0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQ9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0fHx7dmFsaWQ6ITF9O3ZhciBpO2lmKHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC52YWxpZClyZXR1cm4gdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyZWQ/KGk9IllvdXIgIit0KyIgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCBoYXMgZXhwaXJlZDwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgIit0KycgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBuZXcgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdEV4cGlyZWRMaWNlbnNlKCkpOnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmluZ1Nvb24mJihpPSJZb3VyICIrdCsiIGxpY2Vuc2UiKyhwcm9jZXNzLmVudi5xdW9ra2E/IiI6IiBmcmVlIHVwZ3JhZGVzIHBlcmlvZCIpKyIgPGI+IGV4cGlyZXMgb24gIit0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUrIjwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgIit0KycgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBuZXcgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicpLGkmJnRoaXMuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLGkpLGUoKTtpZih0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJlZFRyaWFsKWk9IllvdXIgIit0KycgdHJpYWwgcGVyaW9kIGlzIG92ZXIsIHRoYW5rcyBmb3IgdHJ5aW5nIGl0IG91dC4gUGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4gdG8gcHVyY2hhc2UgYSBsaWNlbnNlIG9yIHRvIGFycmFuZ2UgYSBsb25nZXIgdHJpYWwgcGVyaW9kIGZvciB5b3Vyc2VsZiBvciB5b3VyIHRlYW0uPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLGkpLHRoaXMuX2VtaXRTdG9wcGVkKCk7ZWxzZXtpZighdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmludmFsaWRWZXJzaW9uKXJldHVybiBpPSJObyB2YWxpZCAiK3QrJyBsaWNlbnNlIGZvdW5kLCBzdGFydGluZyBpbiB0cmlhbCBtb2RlLjxici8+SWYgeW91IHdvdWxkIGxpa2UgdG8gcHVyY2hhc2UgYSBsaWNlbnNlLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPi48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicrbSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyx0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIixpKSx0aGlzLl90cmlhbE1vZGUoKSxlKCk7aT0iQ3VycmVudGx5IGluc3RhbGxlZCB2ZXJzaW9uIG9mICIrdCsnIGlzIDxiPm5vdCBjb3ZlcmVkIGJ5IHlvdXIgbGljZW5zZTwvYj4uIFBsZWFzZSB2aXNpdCA8YSBocmVmPSInK24rJyI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyttKyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oImVycm9yIixpKSx0aGlzLl9lbWl0U3RvcHBlZCgpfX0sbi5wcm90b3R5cGUuX3RyaWFsTW9kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIixpPXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIjtlPWV8fDAsYyhmdW5jdGlvbigpe2U+PXk/KHQuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLCJUbyBrZWVwIHRyaWFsaW5nICIrbisnLCBwbGVhc2UgPGI+cmVzdGFydCB5b3VyIGVkaXRvcjwvYj4gb3IgdmlzaXQgPGEgaHJlZj0iJytpKyciPm91ciB3ZWJzaXRlPC9hPiB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK20rJyI+YWN0aXZhdGUgaXQ8L2E+LicpLHQuc3RvcCgpLHQuX2VtaXRTdG9wcGVkKCEwKSk6KHQuX2NvbnRpbnVlVHJpYWxTZXNzaW9uPWZ1bmN0aW9uKCl7dSh0Ll9zdG9wcGVyVGltZW91dCksdC5fdHJpYWxNb2RlKGUrMSl9LHQuX3N0b3BwZXJUaW1lb3V0PWMoZnVuY3Rpb24oKXt0LnN0b3AoKSx0Ll9lbWl0U3RvcHBlZCgpfSxnKSx0Ll9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIiwiVG8gY29udGludWUgIituKycgdHJpYWwgc2Vzc2lvbiwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK1QrJyI+Y2xpY2sgIkNvbnRpbnVlIjwvYT4uPGJyLz5WaXNpdCA8YSBocmVmPSInK2krJyI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicrbSsnIj5hY3RpdmF0ZSBpdDwvYT4uJykpfSxmKX0sbi5wcm90b3R5cGUuX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXRoaXMscz17dmFsaWQ6ITEsZXhwaXJlZFRyaWFsOiEwfTt0cnl7bj1pLl9yZWFkRmlsZVN5bmModCl9Y2F0Y2gobyl7dHJ5e2kuX3dyaXRlRmlsZVN5bmModCwrbmV3IHIpfWNhdGNoKGwpe319dHJ5e2lmKF8uaXNTdHJpbmcobikpaWYobi5sZW5ndGg+MTAwKXt2YXIgYz1wLnBhcnNlS2V5KG4pLHU9Yy5saWNlbnNlU2lnbmF0dXJlO2lmKFZbXy5ydHJpbSh1LCI9IildKXMuZXhwaXJlZFRyaWFsPSExO2Vsc2V7cy5leHBpcmVkVHJpYWw9ITEscy5rZXk9bjt2YXIgZD1jLmxpY2Vuc2VlTmFtZSxoPWMubGljZW5zZWVFbWFpbCxmPWMubGljZW5zZVRhZ3MsZz1jLmxpY2Vuc2VkUHJvZHVjdCx5PWMuZXhwaXJhdGlvbkRhdGVTdHJpbmc7cy5uYW1lPWQscy5leHBpcmF0aW9uRGF0ZT15O3ZhciBtPWEuY3JlYXRlVmVyaWZ5KCJSU0EtU0hBNTEyIik7aWYobS51cGRhdGUobmV3IEJ1ZmZlcihkK2YreSkpLHMudmFsaWQ9bS52ZXJpZnkoRlt+Zy5pbmRleE9mKFIpP1I6ZV0sbmV3IEJ1ZmZlcih1LCJiYXNlNjQiKSkscy52YWxpZCl7dmFyIFQ9eS5zcGxpdCgiLyIpLGI9bmV3IHIoVFsxXSsiLyIrVFswXSsiLyIrVFsyXSksaz1uZXcgcigxNTA4MjEzMzg2NjEzKTtpZihrLnNldEhvdXJzKDAsMCwwLDApLGs+YilzLmludmFsaWRWZXJzaW9uPSEwLHMudmFsaWQ9ITE7ZWxzZXt2YXIgTj1oPT09aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsO3RyeXt2YXIgVT12b2lkIDA7cy5oYXNoPU4/aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsOihVPWEuY3JlYXRlSGFzaCgic2hhNTEyIiksVS51cGRhdGUobmV3IEJ1ZmZlcihuLCJiYXNlNjQiKSksVS5kaWdlc3QoImJhc2U2NCIpKX1jYXRjaChaKXtzLmhhc2g9aS5fcHJvamVjdC5fd2FsbGFieUVtYWlsfXZhciBFPW5ldyByO2lmKEUuc2V0SG91cnMoMCwwLDAsMCksRT5iKXMuZXhwaXJlZD0hMCxzLnZhbGlkPSFOLHMuZXhwaXJlZFRyaWFsPU47ZWxzZXt2YXIgeD1uZXcgcjt4LnNldERhdGUoeC5nZXREYXRlKCkrdikscy5leHBpcmluZ1Nvb249eD5ifX19fX1lbHNle3ZhciBNPXBhcnNlSW50KG4sMTApO3MuZXhwaXJlZFRyaWFsPV8uaXNOYU4oTSl8fE0rKHByb2Nlc3MuZW52LnF1b2trYT8xMzE0ZTY6MjYyOGU2KTwrbmV3IHJ9ZWxzZSBzLmV4cGlyZWRUcmlhbD0hMX1jYXRjaChaKXtzLnZhbGlkPSExfXJldHVybiBzfSxuLnByb3RvdHlwZS5fZW1pdEZpbGVzVG9UcmFjaz1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJmaWxlc1RvVHJhY2siLGZpbGVzOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRUZXN0UnVuRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToic3RhdHMiLGRhdGE6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdERvY3VtZW50VXBkYXRlcz1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJkb2N1bWVudFVwZGF0ZXMiLHVwZGF0ZXM6ZX0pfSxuLnByb3RvdHlwZS5fZW1pdFN0YXRzVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0YXRzIixkYXRhOmUKfSl9LG4ucHJvdG90eXBlLl9lbWl0UHJvamVjdENvbmZpZ3VyZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0KF8uZXh0ZW5kKHQse2ZpbGVzOmV9KSl9LG4ucHJvdG90eXBlLl9lbWl0Tm90aWZpY2F0aW9uPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9lbWl0KHt0eXBlOiJub3RpZmljYXRpb24iLG5vdGlmaWNhdGlvbjpfLmV4dGVuZCh7dGV4dDp0LHR5cGU6ZX0sbnx8e30pfSl9LG4ucHJvdG90eXBlLl9lbWl0U3RvcHBlZD1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdG9wcGVkIixkZWFjdGl2YXRlOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRFeHBpcmVkTGljZW5zZT1mdW5jdGlvbigpe3RoaXMuX2VtaXQoe3R5cGU6ImV4cGlyZWRMaWNlbnNlIn0pfSxuLnByb3RvdHlwZS5fZW1pdD1mdW5jdGlvbihlKXt0aGlzLmVtaXQoIm1lc3NhZ2UiLGUpfSxuLnByb3RvdHlwZS5fZXJyb3JNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wcm9qZWN0JiZ0aGlzLl9wcm9qZWN0Ll9jbGVhblN0YWNrKGUpLGUmJihlLnN0YWNrfHxlLm1lc3NhZ2UpfSxuLnByb3RvdHlwZS5fdGVzdFJ1bkVycm9yTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZXNzYWdlfSxufShFdmVudEVtaXR0ZXIpO3QuZXhwb3J0cz1ifSx7Ii4vc2VydmVyL2ZpbGVTeXN0ZW0iOjksIi4vc2VydmVyL21vZGVsIjoxMCwiLi9zaGFyZWQvdXRpbHMiOjE1LGNoaWxkX3Byb2Nlc3M6dm9pZCAwLGNyeXB0bzp2b2lkIDAsZGVidWc6dm9pZCAwLHBhdGg6dm9pZCAwLHRpbWVyczp2b2lkIDB9XSwzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl90ZXN0SWQ9ZS5zcGVjLHRoaXMuX2ZpbGVJZD1lLmZpbGUsdGhpcy5fcmFuZ2U9ZS5yYW5nZSx0aGlzLl90ZXh0PWUudGV4dCx0aGlzLl90eXBlPWUudHlwZSx0aGlzLl9jb250ZXh0PWUuY29udGV4dCx0aGlzLl9hY3R1YWw9ZS5hY3R1YWwsdGhpcy5fZXhwZWN0ZWQ9ZS5leHBlY3RlZH1yZXR1cm4gZS5wcm90b3R5cGUudGVzdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3RJZH0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUucmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2V9LGUucHJvdG90eXBlLnNldFJhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuX3JhbmdlPWV9LGUucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sZS5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxlLnByb3RvdHlwZS5zZXRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGU9ZX0sZS5wcm90b3R5cGUuZmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlfSxlLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlP18uaXNBcnJheSh0aGlzLl9yYW5nZSk/dGhpcy5fcmFuZ2VbMF06dGhpcy5fcmFuZ2Uuc3RhcnRMaW5lKCk6dm9pZCAwfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLmFjdHVhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3R1YWx9LGUucHJvdG90eXBlLmV4cGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGVjdGVkfSxlfSgpO3QuZXhwb3J0cz1pfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faXRlbXM9ZS5pdGVtcyx0aGlzLl9oaXRzPWUuaGl0c31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LG4pe3ZhciBpPXRoaXM7dGhpcy5fa2V5PWUucmFuZ2VLZXkodGhpcy5faXRlbXMpLHRoaXMuX2ZpbGU9dCx0aGlzLl9zdGFydExpbmU9dGhpcy5faXRlbXNbMF0sdGhpcy5fc3RhcnRDb2x1bW49dGhpcy5faXRlbXNbMV0sdGhpcy5fZW5kTGluZT10aGlzLl9pdGVtc1syXSx0aGlzLl9lbmRDb2x1bW49dGhpcy5faXRlbXNbM10sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2hpdHMmJih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godGhpcy5faGl0cyxmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1uW2VdO2lmKCF0KXJldHVybjt2YXIgcj10LmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFtyXT10LGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKHQpfWVsc2UgaS5faXNDb3ZlcmVkQnlOb3RUZXN0cz0hMH0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSxpLl9zZXRJc0NvdmVyZWQoKSksZGVsZXRlIHRoaXMuX2l0ZW1zLGRlbGV0ZSB0aGlzLl9oaXRzfSxlLnByb3RvdHlwZS5saW5lU2hpZnQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRMaW5lKz10LHRoaXMuX2VuZExpbmUrPXQsdGhpcy5fa2V5PWUucmFuZ2VLZXkoW3RoaXMuX3N0YXJ0TGluZSx0aGlzLl9zdGFydENvbHVtbix0aGlzLl9lbmRMaW5lLHRoaXMuX2VuZENvbHVtbl0pfSxlLnByb3RvdHlwZS5zdGFydExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRMaW5lfSxlLnByb3RvdHlwZS5zdGFydENvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydENvbHVtbn0sZS5wcm90b3R5cGUuZW5kTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRMaW5lfSxlLnByb3RvdHlwZS5lbmRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kQ29sdW1ufSxlLnByb3RvdHlwZS5mYWlscz1mdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxFcnJvcnN8fCh0aGlzLl9nbG9iYWxFcnJvcnM9W10pLH50aGlzLl9nbG9iYWxFcnJvcnMuaW5kZXhPZihlKXx8dGhpcy5fZ2xvYmFsRXJyb3JzLnB1c2goZSl9LGUucHJvdG90eXBlLnNldENvbnNvbGVMb2c9ZnVuY3Rpb24oZSl7dGhpcy5fY29uc29sZUxvZz1lfSxlLnByb3RvdHlwZS5jb25zb2xlTG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVMb2d9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZS5wcm90b3R5cGUuaXNFcnJvclNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJiFfLmlzRW1wdHkodGhpcy5fZmFpbGVkQnlNZVRlc3RzKXx8dGhpcy5fZ2xvYmFsRXJyb3JzJiYhXy5pc0VtcHR5KHRoaXMuX2dsb2JhbEVycm9ycyl9LGUucHJvdG90eXBlLmlzT25FcnJvclBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYhXy5pc0VtcHR5KHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyl9LGUucHJvdG90eXBlLmVycm9ycz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmlzRXJyb3JTb3VyY2UoKT8odGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYoZT1lLmNvbmNhdChfLmZsYXR0ZW4oXy52YWx1ZXModGhpcy5fZmFpbGVkQnlNZVRlc3RzKSkpKSx0aGlzLl9nbG9iYWxFcnJvcnMmJihlPWUuY29uY2F0KHRoaXMuX2dsb2JhbEVycm9ycykpLGUpOmV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZmlsZSxkZWxldGUgdGhpcy5fY292ZXJpbmdUZXN0TWFwLGRlbGV0ZSB0aGlzLl9mYWlsZWRPbk1lVGVzdHMsZGVsZXRlIHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyxkZWxldGUgdGhpcy5fZ2xvYmFsRXJyb3JzLHRoaXMuX2lzRGlzcG9zZWQ9ITAsZGVsZXRlIHRoaXMuX251bU9mQ292ZXJpbmdUZXN0c30sZS5wcm90b3R5cGUuc291cmNlRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlfSxlLnByb3RvdHlwZS5mYWlsc1Rlc3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9mYWlsZWRCeU1lVGVzdHN8fCh0aGlzLl9mYWlsZWRCeU1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZmFpbGVkQnlNZVRlc3RzW2Uua2V5KCldPXR9LGUucHJvdG90eXBlLm5vdENvdmVyZWRCeT1mdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpLG49dGhpcy5pc0NvdmVyZWQoKTt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAmJnRoaXMuX2NvdmVyaW5nVGVzdE1hcFt0XSYmKGRlbGV0ZSB0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF0sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzLS0sdGhpcy5fc2V0SXNDb3ZlcmVkKCkpLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmZGVsZXRlIHRoaXMuX2ZhaWxlZEJ5TWVUZXN0c1t0XSx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJmRlbGV0ZSB0aGlzLl9mYWlsZWRPbk1lVGVzdHNbdF0sbnVsbCE9dGhpcy5fZmlsZSYmdGhpcy5fZmlsZS5yYW5nZUNvdmVyYWdlQ2hhbmdlZCh0aGlzLG4pfSxlLnByb3RvdHlwZS5jb3ZlcmluZ1Rlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX2NvdmVyaW5nVGVzdE1hcCl9LGUucHJvdG90eXBlLmlzQ292ZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0NvdmVyZWR9LGUucHJvdG90eXBlLl9zZXRJc0NvdmVyZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0NvdmVyZWQ9dGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPjB8fHRoaXMuX2lzQ292ZXJlZEJ5Tm90VGVzdHN9LGUucHJvdG90eXBlLmF0dGFjaGVkVG9Tb3VyY2VGaWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAmJl8uZWFjaCh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24odCl7cmV0dXJuIHQuY292ZXJzKGUpfSl9LGUucHJvdG90eXBlLnVwZGF0ZUZyb209ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7cmV0dXJuIHQmJm4mJl8uaXNFbXB0eShlLl9jb3ZlcmluZ1Rlc3RNYXApP3ZvaWQoZS5fY29uc29sZUxvZyYmKHRoaXMuX2NvbnNvbGVMb2c9ZS5fY29uc29sZUxvZykpOih0aGlzLl9pc0NvdmVyZWRCeU5vdFRlc3RzPWUuX2lzQ292ZXJlZEJ5Tm90VGVzdHMsdGhpcy5fY29uc29sZUxvZz1lLl9jb25zb2xlTG9nLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmKHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9nbG9iYWxFcnJvcnMmJih0aGlzLl9nbG9iYWxFcnJvcnM9W10pLGUuX2NvdmVyaW5nVGVzdE1hcD8odCYmIW4/KHRoaXMuX2NvdmVyaW5nVGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSxfLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCk7aS5fY292ZXJpbmdUZXN0TWFwW3RdPWUsZS5jb3ZlcnMoaSksaS5fYWRkRmFpbGVkT25NZVRlc3RJZkZhaWxpbmcoZSl9KSk6aS5fZmFpbGVkT25NZVRlc3RzP18uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3VwZGF0ZVRlc3RXaXRoUG9zc2libGVGYWlsZWRPblRoZVJhbmdlKGUsZS5rZXkoKSl9KTpfLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3JldHVybiBpLl91cGRhdGVUZXN0KGUsZS5rZXkoKSl9KSxpLl9udW1PZkNvdmVyaW5nVGVzdHM9Xy5zaXplKGkuX2NvdmVyaW5nVGVzdE1hcCkpOih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHM9MCx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSkpLHZvaWQgdGhpcy5fc2V0SXNDb3ZlcmVkKCkpfSxlLnByb3RvdHlwZS5fdXBkYXRlVGVzdD1mdW5jdGlvbihlLHQpe3RoaXMuX2NvdmVyaW5nVGVzdE1hcFt0XT1lLGUuY292ZXJzKHRoaXMpLHRoaXMuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlVGVzdFdpdGhQb3NzaWJsZUZhaWxlZE9uVGhlUmFuZ2U9ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLHRoaXMuX3VwZGF0ZVRlc3QoZSx0KX0sZS5wcm90b3R5cGUuaXNJbnNpZGVPZj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3RhcnRMaW5lPj1lLl9zdGFydExpbmUmJmUuX2VuZExpbmU+PXRoaXMuX2VuZExpbmUmJih0aGlzLl9zdGFydExpbmU+ZS5fc3RhcnRMaW5lfHx0aGlzLl9zdGFydENvbHVtbj49ZS5fc3RhcnRDb2x1bW4pJiYoZS5fZW5kTGluZT50aGlzLl9lbmRMaW5lfHxlLl9lbmRDb2x1bW4+PXRoaXMuX2VuZENvbHVtbil9LGUucHJvdG90eXBlLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZz1mdW5jdGlvbihlKXtlLmlzRmFpbGluZygpJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzfHwodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2ZhaWxlZE9uTWVUZXN0c1tlLmtleSgpXT1lKX0sZS5yYW5nZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCIuIil9LGV9KCk7dC5leHBvcnRzPWl9LHt9XSw1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vZG9jdW1lbnRMaW5lIikscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3JlY3ljbGVkTGluZXM9W10sdGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITF9cmV0dXJuIGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxzPXRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlO2RlbGV0ZSB0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZSxuPyh0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3JlY3ljbGVkTGluZXM9W10pOnQmJl8uZWFjaCh0aGlzLl9saW5lcyxmdW5jdGlvbihlKXtlLnJlbW92ZVJhbmdlcygpfSk7dmFyIG89W10sYT1bXTtfLmVhY2goZSxmdW5jdGlvbihlKXtpZighZS5pc0Rpc3Bvc2VkKCkpe3ZhciBuPWUuc3RhcnRMaW5lKCkscz1yLl9saW5lc1tuXTtzfHwocz1uZXcgaShuKSxyLl9saW5lc1tuXT1zLGEucHVzaChzKSkscy5hZGRSYW5nZShlLHQpLG8ucHVzaChzKX19KTt2YXIgbD1PYmplY3QuY3JlYXRlKG51bGwpO289dCYmIW4/Xy52YWx1ZXModGhpcy5fbGluZXMpLmNvbmNhdChhKTpvLF8uZWFjaChvLGZ1bmN0aW9uKGUpe2UuaGFzUmFuZ2VzKCk/ZS51cGRhdGVMaW5lRGF0YSgpJiYobFtlLmtleSgpXT1lKTooZS5kaXNwb3NlKCksZGVsZXRlIHIuX2xpbmVzW2UubnVtYmVyKCldLHIuX3JlY3ljbGVkTGluZXMucHVzaChlKSl9KTt2YXIgYz10aGlzLl9yZWN5Y2xlZExpbmVzLnNsaWNlKCk7cmV0dXJuIHRoaXMuX3JlY3ljbGVkTGluZXM9W10se2xpbmVzOm4/Xy5tYXAodGhpcy5fbGluZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2NvbXBhY3RMaW5lKGUpfSk6Xy5tYXAocz90aGlzLl9saW5lczpsLGZ1bmN0aW9uKGUpe3ZhciB0PXIuX2NvbXBhY3RMaW5lKGUpO3JldHVybiB0LmNoYW5nZWQ9cz8hIWxbZS5rZXkoKV18fHZvaWQgMDoxLHR9KS5jb25jYXQoXy5tYXAoYyxmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5rZXkoKSxkZWw6MX19KSksYWxsTGluZXM6bnx8c319LGUucHJvdG90eXBlLmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVzW2VdfSxlLnByb3RvdHlwZS5hbGxMaW5lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJue2xpbmVzOl8ubWFwKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wYWN0TGluZSh0KX0pLGFsbExpbmVzOiEwfX0sZS5wcm90b3R5cGUuX2NvbXBhY3RMaW5lPWZ1bmN0aW9uKGUpe3JldHVybntpZDplLmtleSgpLG51bTplLm51bWJlcigpLHN0YXRlOmUuc3RhdGUoKSxsb2c6ZS5jb25zb2xlTG9nVGV4dCgpLGxvbmdMb2c6cHJvY2Vzcy5lbnYucXVva2thP2UubG9uZ0NvbnNvbGVMb2dUZXh0KCk6dm9pZCAwLGVycjplLmVycm9yU291cmNlVGV4dCgpfX0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZUxpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITAsXy5lYWNoKF8ucmFuZ2UoZS5zdGFydCxlLmVuZCksZnVuY3Rpb24obil7dmFyIGk9dC5fbGluZXNbbl07aSYmdC5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWUoaSxlKX0pfSxlLnByb3RvdHlwZS5zaGlmdExpbmVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwO3ZhciByPV8udmFsdWVzKHRoaXMuX2xpbmVzKTt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChyLGZ1bmN0aW9uKHIpe3ZhciBzPXIubnVtYmVyKCk7aWYoIWkuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKHIsbikpe3M+ZSYmKHMrPXQsci5udW1iZXIocykpO3ZhciBvPWkuX2xpbmVzW3NdO28/KG8uZGlzcG9zZSgpLHIuZGlzcG9zZSgpLGkuX3JlY3ljbGVkTGluZXMucHVzaChvKSxpLl9yZWN5Y2xlZExpbmVzLnB1c2gociksZGVsZXRlIGkuX2xpbmVzW3NdKTppLl9saW5lc1tzXT1yfX0pfSxlLnByb3RvdHlwZS5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm51bWJlcigpO3JldHVybiBuPj10LnN0YXJ0JiZuPD10LmVuZD8oZS5kaXNwb3NlKCksdGhpcy5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpLCEwKTp2b2lkIDB9LGV9KCk7dC5leHBvcnRzPXJ9LHsiLi9kb2N1bWVudExpbmUiOjZ9XSw2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4uL3NoYXJlZC9lbnVtcyIpLmxpbmVTdGF0ZSxyPTEyOCxzPTI2MjE0NCxvPTEyOCxhPTAsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fbGluZU51bWJlcj1lLHRoaXMuX3Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2lkPSsrYX1yZXR1cm4gZS5wcm90b3R5cGUuaGFzUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIV8uaXNFbXB0eSh0aGlzLl9yYW5nZXMpfSxlLnByb3RvdHlwZS5yYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfSxlLnByb3RvdHlwZS51cGRhdGVMaW5lRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0hMCxuPSEwLGE9ITEsbD0hMSxjPXRoaXMuX2xpbmVTdGF0ZSx1PXRoaXMuX2NvbnNvbGVMb2dUZXh0LGQ9dGhpcy5fZXJyb3JTb3VyY2VUZXh0O3JldHVybiBkZWxldGUgdGhpcy5fY29uc29sZUxvZ1RleHQsZGVsZXRlIHRoaXMuX2xvbmdDb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fZXJyb3JTb3VyY2VUZXh0LF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oaSl7dmFyIHM9aS5jb25zb2xlTG9nKCk7aWYocyYmcy5sZW5ndGgpe18uaXNTdHJpbmcoZS5fY29uc29sZUxvZ1RleHQpfHwoZS5fY29uc29sZUxvZ1RleHQ9IiIpO3ZhciBjPXMubGVuZ3RoPnIsdT0oYz9zLnNsaWNlKHMubGVuZ3RoLXIpOnMpLmpvaW4oIiwgIik7aWYodS5sZW5ndGg+ciYmKHU9KDA9PT11LmluZGV4T2YoInRoZW4gIik/InRoZW4gIjoiIikrIi4uLiAiK3Uuc3Vic3RyKHUubGVuZ3RoLXIrNCkpLGUuX2NvbnNvbGVMb2dUZXh0Kz0oZS5fY29uc29sZUxvZ1RleHQ/IiB8ICI6IiIpK3UscHJvY2Vzcy5lbnYucXVva2thKXtfLmlzU3RyaW5nKGUuX2xvbmdDb25zb2xlTG9nVGV4dCl8fChlLl9sb25nQ29uc29sZUxvZ1RleHQ9IiIpO3ZhciBkPXMubGVuZ3RoPjFlMyxoPShkPyIgIC4uLlxuIjoiIikrIiAiKyhkP3Muc2xpY2Uocy5sZW5ndGgtMWUzKTpzKS5qb2luKCIgXG4gIik7ZS5fbG9uZ0NvbnNvbGVMb2dUZXh0Kz0oZS5fbG9uZ0NvbnNvbGVMb2dUZXh0PyJcbi0tLVxuIjoiIikraH19aWYoaS5pc0Vycm9yU291cmNlKCkpe2E9ITA7dmFyIHA9aS5lcnJvcnMoKTtpZihwLmxlbmd0aCl7dmFyIGY9cFtwLmxlbmd0aC0xXS5tZXNzYWdlKCk7ZS5fZXJyb3JTb3VyY2VUZXh0PWUuX3RydW5jYXRlTWVzc2FnZShmfHwiIixvKX19aS5pc09uRXJyb3JQYXRoKCkmJihsPSEwKSxpLmlzQ292ZXJlZCgpP249ITE6dD0hMX0pLGUuX2NvbnNvbGVMb2dUZXh0JiYocHJvY2Vzcy5lbnYucXVva2thJiYoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0PWUuX3RydW5jYXRlTWVzc2FnZShlLl9sb25nQ29uc29sZUxvZ1RleHQscywhMCkpLGUuX2NvbnNvbGVMb2dUZXh0PWUuX3RydW5jYXRlTWVzc2FnZShlLl9jb25zb2xlTG9nVGV4dCxyKSksdGhpcy5fbGluZVN0YXRlPWE/aS5lcnJvclNvdXJjZTpsP2kuZXJyb3JQYXRoOm4/aS5ub3RDb3ZlcmVkOnQ/aS5mdWxseUNvdmVyZWQ6aS5wYXJ0aWFsbHlDb3ZlcmVkLHRoaXMuX2xpbmVTdGF0ZSE9PWN8fHRoaXMuX2NvbnNvbGVMb2dUZXh0IT09dXx8dGhpcy5fZXJyb3JTb3VyY2VUZXh0IT09ZH0sZS5wcm90b3R5cGUuY29uc29sZUxvZ1RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc29sZUxvZ1RleHR9LGUucHJvdG90eXBlLmxvbmdDb25zb2xlTG9nVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb25nQ29uc29sZUxvZ1RleHR9LGUucHJvdG90eXBlLmVycm9yU291cmNlVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvclNvdXJjZVRleHR9LGUucHJvdG90eXBlLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVTdGF0ZX0sZS5wcm90b3R5cGUuYWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmtleSgpO3R8fGRlbGV0ZSB0aGlzLl9yYW5nZXNbbl0sdGhpcy5fcmFuZ2VzW25dPWV9LGUucHJvdG90eXBlLnJlbW92ZVJhbmdlcz1mdW5jdGlvbigpe3RoaXMuX3Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpfSxlLnByb3RvdHlwZS5udW1iZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXRoaXMuX2xpbmVOdW1iZXI7aWYoXy5pc1VuZGVmaW5lZChlKSlyZXR1cm4gbjtpZihlIT09bil7dGhpcy5fbGluZU51bWJlcj1lO3ZhciBpPWUtbixyPV8udmFsdWVzKHRoaXMuX3Jhbmdlcyk7dGhpcy5yZW1vdmVSYW5nZXMoKSxfLmVhY2gocixmdW5jdGlvbihlKXtlLmxpbmVTaGlmdChpKSx0Ll9yYW5nZXNbZS5rZXkoKV09ZX0pfX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlUmFuZ2VzKCksZGVsZXRlIHRoaXMuX2NvbnNvbGVMb2dUZXh0LGRlbGV0ZSB0aGlzLl9lcnJvclNvdXJjZVRleHQsZGVsZXRlIHRoaXMuX2xpbmVTdGF0ZSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfSxlLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZS5wcm90b3R5cGUuX3RydW5jYXRlTWVzc2FnZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9ZS5sZW5ndGg+dD8iLi4uIjoiIjtyZXR1cm4gZT1lLnN1YnN0cigwLHQpLChuP2U6dGhpcy5fY2xlYW5TdHJpbmcoZSkpK2l9LGUucHJvdG90eXBlLl9jbGVhblN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZXBsYWNlKC9cclxuXHMqL2csIiAiKS5yZXBsYWNlKC9cblxzKi9nLCIgIil9LGV9KCk7dC5leHBvcnRzPWx9LHsiLi4vc2hhcmVkL2VudW1zIjoxNH1dLDc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9ZSgiLi9zdGFja0VudHJ5Iikscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fYWN0dWFsPWUuYWN0dWFsLHRoaXMuX2V4cGVjdGVkPWUuZXhwZWN0ZWQsdGhpcy5fbWVzc2FnZT1lLm1lc3NhZ2UsdGhpcy5fc3RhY2s9ZS5zdGFjayx0aGlzLl9jb250ZXh0PWUuY29udGV4dHx8e319cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fc3RhY2s7dGhpcy5fc3RhY2s9W10sXy5lYWNoKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5fc3RhY2sucHVzaChuZXcgaSh0WzBdLHRbMV0sZS5fY29udGV4dFtuXSkpfSksZGVsZXRlIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLnN0YWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YWNrfSxlLnByb3RvdHlwZS5tZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2V9LGUucHJvdG90eXBlLmFjdHVhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3R1YWx9LGUucHJvdG90eXBlLmV4cGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGVjdGVkfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5fbWVzc2FnZXx8IiIpK18ucmVkdWNlKHRoaXMuX3N0YWNrLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrPXQua2V5KCl9LCIiKX0sZX0oKTt0LmV4cG9ydHM9cn0seyIuL3N0YWNrRW50cnkiOjEyfV0sODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL2Vycm9yRW50cnkiKSxyPShlKCIuL3N0YWNrRW50cnkiKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faWQ9ZS5pZCx0aGlzLl9maWxlSWQ9ZS5maWxlSWQsdGhpcy5fbG9nPWUubG9nLHRoaXMuX25hbWU9ZS5uYW1lLHRoaXMuX3Rlc3RzPWUudGVzdHMsdGhpcy5fc3RhcnQ9ZS5zdGFydCx0aGlzLl90aW1lPWUudGltZSx0aGlzLl9zbG93PWUuc2xvd31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LG4scixzKXt2YXIgbz10aGlzO2lmKHRoaXMuX3BhcmVudD10LHRoaXMuX2lkJiYodGhpcy5fYnVpbGRGdWxsTmFtZUFuZFBhdGgoKSx0aGlzLl9zZXRLZXkoKSxyKHRoaXMpLHRoaXMuX2NvdmVyZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9jb3ZlcmVkRmlsZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl90cz1uLHRoaXMuX2xvZyYmdGhpcy5fbG9nLmxlbmd0aCkpe3RoaXMuX2lzRmFpbGluZz0hMDt2YXIgYT10aGlzLl9sb2c7dGhpcy5fbG9nPVtdLHRoaXMuX2Vycm9yU3RhY2tNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goYSxmdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKTt0LmluaXQoKSxfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciBuPWUua2V5KCksaT1vLl9lcnJvclN0YWNrTWFwW25dO2k/fl8uaW5kZXhPZihpLHQpfHxpLnB1c2godCk6KGk9W10saS5wdXNoKHQpLG8uX2Vycm9yU3RhY2tNYXBbbl09aSksaS5zdGFja0VudHJ5PWUscyhlKX0pLG8uX2xvZy5wdXNoKHQpfSl9dGhpcy5fdGVzdHMmJihfLmVhY2godGhpcy5fdGVzdHMsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlKHQpLmluaXQobyxuLHIscyl9KSxkZWxldGUgdGhpcy5fdGVzdHMpfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleXx8KHRoaXMuX3NldEtleSgpLHRoaXMuX2tleSl9LGUucHJvdG90eXBlLl9zZXRLZXk9ZnVuY3Rpb24oKXt0aGlzLl9rZXk9dGhpcy5fZmlsZUlkKyJfIit0aGlzLl9mdWxsTmFtZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUuZmlsZVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVzdEZpbGUmJnRoaXMuX3Rlc3RGaWxlLnBhdGgoKX0sZS5wcm90b3R5cGUudGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lfSxlLnByb3RvdHlwZS5lcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nfSxlLnByb3RvdHlwZS5hZGRDb25zb2xlTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLl9jb25zb2xlTWVzc2FnZXN8fCh0aGlzLl9jb25zb2xlTWVzc2FnZXM9W10pLHRoaXMuX2NvbnNvbGVNZXNzYWdlcy5wdXNoKGUpfSxlLnByb3RvdHlwZS5jb25zb2xlTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc29sZU1lc3NhZ2VzfSxlLnByb3RvdHlwZS5pc0ZhaWxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNGYWlsaW5nfSxlLnByb3RvdHlwZS5zbG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Nsb3d9LGUucHJvdG90eXBlLnNldFRlc3RGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX3Rlc3RGaWxlPWV9LGUucHJvdG90eXBlLm9ic29sZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9zdGFydFJhbmdlLGRlbGV0ZSB0aGlzLl90ZXN0RmlsZSx0aGlzLl9jb3ZlcmVkUmFuZ2VzJiYoXy5lYWNoKHRoaXMuX2NvdmVyZWRSYW5nZXMsZnVuY3Rpb24obil7aWYobi5ub3RDb3ZlcmVkQnkoZSksIW4uaXNEaXNwb3NlZCgpKXt2YXIgaT1uLnNvdXJjZUZpbGUoKTt0W2kua2V5KCldPWl9fSksZGVsZXRlIHRoaXMuX2NvdmVyZWRSYW5nZXMpLGRlbGV0ZSB0aGlzLl9lcnJvclN0YWNrTWFwLGRlbGV0ZSB0aGlzLl9jb25zb2xlTWVzc2FnZXMsZGVsZXRlIHRoaXMuX2NvdmVyZWRGaWxlcyx0fSxlLnByb3RvdHlwZS5jb3ZlcnM9ZnVuY3Rpb24oZSl7dGhpcy5fY292ZXJlZFJhbmdlc1tlLmtleSgpXT1lO3ZhciB0PWUuc291cmNlRmlsZSgpO3QmJiF0LmlzVGVzdEZpbGUoKSYmKHRoaXMuX2NvdmVyZWRGaWxlc1t0LmtleSgpXT10KX0sZS5wcm90b3R5cGUuY292ZXJlZEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIF8ubWFwKHRoaXMuX2NvdmVyZWRGaWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pfSxlLnByb3RvdHlwZS5zdGFydFJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXJ0UmFuZ2V9LGUucHJvdG90eXBlLmNvbXBsZXRlSW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLl9lcnJvclN0YWNrTWFwJiZfLmVhY2godGhpcy5fZXJyb3JTdGFja01hcCxmdW5jdGlvbihuKXt2YXIgaT1uLnN0YWNrRW50cnk7aWYoaSl7dmFyIHI9ZVtpLmZpbGVJZCgpXTtpZihyKXt2YXIgcz1yLmNsb3Nlc3RSYW5nZShpLmxpbmUoKSk7cyYmKGkuc2V0UmFuZ2Uocykscy5mYWlsc1Rlc3QodCxuKSl9fX0pLHRoaXMuX2NvbnNvbGVNZXNzYWdlcyYmXy5lYWNoKHRoaXMuX2NvbnNvbGVNZXNzYWdlcyxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUoKTt0JiZlLnNldFJhbmdlKHQuY2xvc2VzdFJhbmdlKGUubGluZSgpKSl9KSx0aGlzLl9jb3ZlcmVkUmFuZ2VzJiYoXy5pc1VuZGVmaW5lZCh0aGlzLl9zdGFydCl8fCh0aGlzLl9zdGFydFJhbmdlPXRoaXMuX3Rlc3RGaWxlLmNsb3Nlc3RSYW5nZSh0aGlzLl9zdGFydCksZGVsZXRlIHRoaXMuX3N0YXJ0KSx0aGlzLl9zdGFydFJhbmdlfHxfLmVhY2godGhpcy5fY292ZXJlZFJhbmdlcyxmdW5jdGlvbihlKXt2YXIgbj1lLnNvdXJjZUZpbGUoKTtuPT10Ll90ZXN0RmlsZSYmKHQuX3N0YXJ0UmFuZ2U/ZS5lbmRMaW5lKCk8dC5fc3RhcnRSYW5nZS5lbmRMaW5lKCkmJih0Ll9zdGFydFJhbmdlPWUpOnQuX3N0YXJ0UmFuZ2U9ZSl9KSl9LGUucHJvdG90eXBlLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0aH0sZS5wcm90b3R5cGUudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHN9LGUucHJvdG90eXBlLl9idWlsZEZ1bGxOYW1lQW5kUGF0aD1mdW5jdGlvbigpe3ZhciBlPVtdO2UucHVzaCh0aGlzLl9uYW1lKTtmb3IodmFyIHQ9dGhpcy5fcGFyZW50O251bGwhPXQ7KXt2YXIgbj10Ll9uYW1lO2UucHVzaChuKSx0PXQuX3BhcmVudH1lLnJldmVyc2UoKSx0aGlzLl9mdWxsTmFtZT1lLmpvaW4oIuKYhiIpLHRoaXMuX3BhdGg9ZX0sZX0oKSk7dC5leHBvcnRzPXJ9LHsiLi9lcnJvckVudHJ5Ijo3LCIuL3N0YWNrRW50cnkiOjEyfV0sOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaSxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLHM9ZSgicGF0aCIpLG89ZSgiY2hva2lkYXIiKS5GU1dhdGNoZXIsYT1lKCJtaW5pbWF0Y2giKSxsPWUoIi4uL3NoYXJlZC91dGlscyIpLGM9MWUzLHU9NTAwLGQ9NTAsaD17YXBrOjEsYm1wOjEsY2dtOjEsZzM6MSxnaWY6MSxpZWY6MSxpcng6MSxqcGVnOjEsanBnOjEsanBlOjEsa3R4OjEscG5nOjEsYnRpZjoxLHNnaToxLHN2ZzoxLHN2Z3o6MSx0aWZmOjEsdGlmOjEscHNkOjEsdXZpOjEsdXZ2aToxLHV2ZzoxLHV2dmc6MSxkanZ1OjEsZGp2OjEsc3ViOjEsZHdnOjEsZHhmOjEsZmJzOjEsZnB4OjEsZnN0OjEsbW1yOjEscmxjOjEsbWRpOjEsd2RwOjEsbnB4OjEsd2JtcDoxLHhpZjoxLHdlYnA6MSwiM2RzIjoxLHJhczoxLGNteDoxLGZoOjEsZmhjOjEsZmg0OjEsZmg1OjEsZmg3OjEsaWNvOjEsc2lkOjEscGN4OjEscGljOjEscGN0OjEscG5tOjEscGJtOjEscGdtOjEscHBtOjEscmdiOjEsdGdhOjEseGJtOjEseHBtOjEseHdkOjEsYmluOjEseGxzOjEseGxzeDoxLHppcDoxLG1wNDoxLG1vOjEsbm9kZToxLGR1bXA6MSxkbGw6MSxtYXA6MSxsaWI6MSxleHA6MSxvYmo6MSxwZGI6MSxnemlwOjEsZ3o6MSxkYjoxLGRvY3g6MX0scD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4saSl7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl9kaWZmTWF0Y2hQYXRjaD1pLmRpZmZNYXRjaFBhdGNoLHIuX2Jhc2VEaXI9bixyLl9pc1JlYWR5PSExLHIuX2lzU3RvcHBlZD0hMSxyLl9maWxlc0J5UGF0aD1PYmplY3QuY3JlYXRlKG51bGwpLHIuX2ZpbGVzQnlJZD1PYmplY3QuY3JlYXRlKG51bGwpLHIuX2ZpbGVJZD0wLHIuX2xydUNhY2hlPWUoImxydS1jYWNoZSIpKHttYXg6MTA0ODU3NipkLGxlbmd0aDpmdW5jdGlvbihlKXtyZXR1cm4gZS5sZW5ndGh9fSksci5fcmVhZEZpbGVQcm9taXNlPWkucmVhZEZpbGVQcm9taXNlLHIuX3JlYWxwYXRoU3luYz1pLnJlYWxwYXRoU3luYyxyfXJldHVybiByKG4sdCksbi5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGE9dGhpcztpZihpPWUoImRlYnVnIikoIndhbGxhYnk6ZnMiKSxwcm9jZXNzLmVudi5xdW9ra2Epe3ZhciBsPXRbMF0sZD17fTtyZXR1cm4gYS5faXNSZWFkeT0hMCxkW2wucGF0dGVybl09YS5fZmlsZUFkZGVkKGwucGF0dGVybix7bWV0YWRhdGE6bCxtdGltZTp7Z2V0VGltZTpmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX19fSksUS53aGVuKGQpfXZhciBoPVtdLHA9W10sZj17fSxnPXt9LHk9MDtfLmVhY2godCxmdW5jdGlvbihlKXtlLmlnbm9yZT9wLnB1c2goZSk6KGgucHVzaChlKSxlLm9yZGVyPSsreSl9KTt2YXIgdj1uJiZuLmdsb2IsbT10aGlzLl9pc0luY2x1ZGVkKGEuX2Jhc2VEaXIsaCxwLGYsdiksVD17aWdub3JlSW5pdGlhbDohMSxpZ25vcmVQZXJtaXNzaW9uRXJyb3JzOiEwLHVzZVBvbGxpbmc6ImRhcndpbiI9PT1wcm9jZXNzLnBsYXRmb3JtfHwibGludXgiPT09cHJvY2Vzcy5wbGF0Zm9ybSxpZ25vcmVkOmZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuITE7aWYodC5pc1N5bWJvbGljTGluaygpKXRyeXtnW2VdPXtwYXRoOmUscmVhbFBhdGg6YS5fcmVhbHBhdGhTeW5jKGUpfX1jYXRjaChuKXt9dmFyIGk9dC5pc0ZpbGUoKTtpZighaSl7dmFyIG89ci5faXNFbnRpdHlFeGNsdWRlZChzLmpvaW4ocy5yZWxhdGl2ZShhLl9iYXNlRGlyLGUpLCIvIikscCx2KTtyZXR1cm4gby5maWxlJiZvLnRlc3R9dmFyIGw9IW0oZSx0KTtpZihsKXt2YXIgYz1fLmZpbmQoZyxmdW5jdGlvbih0KXtyZXR1cm4gXy5zdGFydHNXaXRoKGUsdC5yZWFsUGF0aCl9KTtjJiYobD0hbShlLnJlcGxhY2UoYy5yZWFsUGF0aCxjLnBhdGgpLHQpKX1yZXR1cm4gbH0sY3dkOmEuX2Jhc2VEaXJ9O2lmKGEuX2hhc0dsb2JDaGFycyhhLl9iYXNlRGlyKSl0aHJvdyBuZXcgRXJyb3IoIllvdXIgcHJvamVjdCBmaWxlIHBhdGggY29udGFpbnMgZ2xvYiBjaGFyYWN0ZXJzLCBsaWtlIGB7YCwgYH1gLCBgW2AsIGBdYCwgYChgLCBgKWAsIGAqYCwgYHxgIGFuZCBpdCBtYXkgY2F1c2UgdGhlIHByb2plY3QgZmlsZSBzY2FubmluZyB0byBmYWlsLCBwbGVhc2UgcmVtb3ZlIGdsb2IgY2hhcmFjdGVycyBmcm9tIHRoZSBwcm9qZWN0IHBhdGguIik7dGhpcy5fd2F0Y2hlcj1uZXcgbyhUKTt2YXIgUj1fLnJlZHVjZShoLGZ1bmN0aW9uKGUsdCl7dmFyIG49YS5fZ2V0QmFzZURpcih0LnBhdHRlcm4pO3JldHVybiBlW25dPW4sZX0se30pO18uZWFjaChSLGZ1bmN0aW9uKGUpe2lmKCFfLmZpbmQoUixmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWUmJmUuc3Vic3RyKDAsdC5sZW5ndGgrMSk9PT10KyIvIn0pKXt2YXIgdD12b2lkIDAsbj1zLm5vcm1hbGl6ZShzLmpvaW4oYS5fYmFzZURpcixlKSk7dHJ5e3Q9cy5ub3JtYWxpemUoYS5fcmVhbHBhdGhTeW5jKG4pKX1jYXRjaChyKXt9dCYmdCE9PW4/KGkoIlBvc3NpYmxlIHN5bWxpbms6ICVzIC0+ICVzIix0LG4pLGZbdF09e3JlYWxQYXRoOnQsbGlua2VkUGF0aDpufSxhLl93YXRjaGVyLmFkZCh0KSk6YS5fd2F0Y2hlci5hZGQoZSl9fSk7dmFyIEY7cmV0dXJuIFEucHJvbWlzZShmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2EuX2lzUmVhZHl8fChhLl9pc1JlYWR5PSEwLHQmJmkoIkZpbGUgc3lzdGVtIHNjYW4gaGFzIGZpbmlzaGVkIGJ5IHRpbWVvdXQiKSxlKGEuX2ZpbGVzQnlQYXRoKSl9O3RyeXthLl93YXRjaGVyLm9uKCJhbGwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KEYpLEY9c2V0VGltZW91dChfLmJpbmQobixudWxsLCEwKSxjKX0pLm9uKCJhZGQiLF8uYmluZChhLl93aXRoTm9ybWFsaXplZFBhdGgsYSxhLl9maWxlQWRkZWQpKS5vbigiY2hhbmdlIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZUNoYW5nZWQpKS5vbigidW5saW5rIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZURlbGV0ZWQpKS5vbigicmVhZHkiLF8uZGVib3VuY2Uobix1KSkub24oImVycm9yIixfLmJpbmQoYS5lbWl0LGEsImVycm9yIikpfWNhdGNoKHIpe3Qocil9fSl9LG4ucHJvdG90eXBlLl9oYXNHbG9iQ2hhcnM9ZnVuY3Rpb24oZSl7cmV0dXJufmUuaW5kZXhPZigiKCIpfHx+ZS5pbmRleE9mKCIpIil8fH5lLmluZGV4T2YoInwiKXx8fmUuaW5kZXhPZigieyIpfHx+ZS5pbmRleE9mKCJ9Iil8fH5lLmluZGV4T2YoIioiKXx8fmUuaW5kZXhPZigiWyIpfHx+ZS5pbmRleE9mKCJdIil9LG4ucHJvdG90eXBlLmxvYWRGaWxlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBRLmFsbChfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9sb2FkRmlsZShlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoImxvYWRlZCIsZSl9KX0pKX0sbi5wcm90b3R5cGUuZmlsZUNoYW5nZWRJbkVkaXRvcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYociYmIXIuYmluYXJ5KXtpKCJGaWxlIGNoYW5nZWQgaW4gZWRpdG9yOiAlcyIsci5wYXRoKTt2YXIgcz10aGlzLl9scnVDYWNoZS5nZXQoci5wYXRoKTt0aGlzLl9scnVDYWNoZS5zZXQoci5wYXRoLHQpLHIuY2hhbmdlVHMrKyx0aGlzLl9lbWl0RmlsZUNoYW5nZShfLmV4dGVuZCh7fSxyLHtjb250ZW50OnR9KSxzLG4sITApfX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2lzU3RvcHBlZD0hMCx0aGlzLl93YXRjaGVyJiYodGhpcy5fd2F0Y2hlci5jbG9zZSgpLGRlbGV0ZSB0aGlzLl9scnVDYWNoZSl9LG4ucHJvdG90eXBlLmlkQnlQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKHQpcmV0dXJuIHQuaWR9LG4ucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5SWRbZV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBmaWxlIHdpdGggaWQgIitlKyIgZm91bmQiKTtyZXR1cm4gdGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUodCl9LG4ucHJvdG90eXBlLl9sb2FkRmlsZVdpdGhDYWNoZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jaGFuZ2VUcyxpPXRoaXMuX2xydUNhY2hlLmdldChlLnBhdGgpO3JldHVybihfLmlzVW5kZWZpbmVkKGkpP3RoaXMuX3JlYWRGaWxlUHJvbWlzZShzLmpvaW4odC5fYmFzZURpcixlLnBhdGgpKTpRLndoZW4oaSkpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGk9aT9lLmJpbmFyeT9pLnRvU3RyaW5nKCJiYXNlNjQiKTppLnRvU3RyaW5nKCk6IiIsdC5faXNTdG9wcGVkfHxuIT09ZS5jaGFuZ2VUc3x8dC5fbHJ1Q2FjaGUuc2V0KGUucGF0aCxpKSxRLndoZW4oXy5leHRlbmQoe30sZSx7Y29udGVudDppfSkpfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZW1pdCgiZXJyb3IiLGUpfSl9LG4ucHJvdG90eXBlLl9maWxlQWRkZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGkoIkZpbGUgYWRkZWQ6ICVzIixlKSx0JiZ0Lm1ldGFkYXRhKXt2YXIgcj10Lm1ldGFkYXRhLG89cy5leHRuYW1lKGUpLnN1YnN0cigxKTtyZXR1cm4gci5jaGFuZ2VUcz0xLHIuaWQ9Kyt0aGlzLl9maWxlSWQsci50cz10Lm10aW1lLmdldFRpbWUoKSxyLnR5cGU9byYmby50b0xvd2VyQ2FzZSgpLHIuYmluYXJ5PXIuYmluYXJ5fHxoW3IudHlwZV0sci5wYXRoPWUsdGhpcy5fZmlsZXNCeVBhdGhbZV09cix0aGlzLl9maWxlc0J5SWRbci5pZF09cix0aGlzLl9pc1JlYWR5JiYodGhpcy5fbHJ1Q2FjaGUuZGVsKGUpLHRoaXMuX2xvYWRGaWxlV2l0aENhY2hlKHIpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG4uZW1pdCgiYWRkZWQiLGUpfSkpLHJ9aSgiTm8gbWV0YWRhdGEgZm9yIGFkZGVkIGZpbGUgZm91bmQ6ICVzIixlKX0sbi5wcm90b3R5cGUuX2ZpbGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aSgiRmlsZSBjaGFuZ2VkOiAlcyIsZSk7dmFyIG49dGhpcy5fZmlsZXNCeVBhdGhbZV07aWYobil7aWYodGhpcy5faXNSZWFkeSl7dmFyIHI9dGhpcy5fbHJ1Q2FjaGUuZ2V0KGUpO3RoaXMuX2xydUNhY2hlLmRlbChlKTt2YXIgcz0rK24uY2hhbmdlVHM7dGhpcy5fbG9hZEZpbGVXaXRoQ2FjaGUobikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGFuZ2VUcz09PXMmJnQuX2VtaXRGaWxlQ2hhbmdlKGUscil9KX19ZWxzZSBpKCJObyBtZXRhZGF0YSBmb3IgY2hhbmdlZCBmaWxlIGZvdW5kOiAlcyIsZSl9LG4ucHJvdG90eXBlLl9lbWl0RmlsZUNoYW5nZT1mdW5jdGlvbihlLHQsbixyKXt2YXIgcz1lLmNvbnRlbnQ7aWYoXy5pc1N0cmluZyh0KSl7dmFyIG89dGhpcy5fZGlmZk1hdGNoUGF0Y2gucGF0Y2hfbWFrZSh0LHMpO2lmKCFvLmxlbmd0aClyZXR1cm4gaSgiTm8gY2hhbmdlcyBkZXRlY3RlZCBmb3IgJXMiLGUucGF0aCksdm9pZCB0aGlzLmVtaXQoIm5vdENoYW5nZWQiLGUscyxuKTtlLmNvbnRlbnQ9dGhpcy5fZGlmZk1hdGNoUGF0Y2gucGF0Y2hfdG9UZXh0KG8pfXRoaXMuZW1pdCgiY2hhbmdlZCIsZSxzLG4scil9LG4ucHJvdG90eXBlLl9maWxlRGVsZXRlZD1mdW5jdGlvbihlKXtpKCJGaWxlIGRlbGV0ZWQ6ICVzIixlKSx0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHQ9dGhpcy5fZmlsZXNCeVBhdGhbZV07dD8oZGVsZXRlIHRoaXMuX2ZpbGVzQnlQYXRoW2VdLGRlbGV0ZSB0aGlzLl9maWxlc0J5SWRbdC5pZF0sdGhpcy5faXNSZWFkeSYmdGhpcy5lbWl0KCJkZWxldGVkIix0KSk6aSgiTm8gbWV0YWRhdGEgZm9yIGRlbGV0ZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fd2l0aE5vcm1hbGl6ZWRQYXRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmbi5saW5rZWRQYXRoJiYodD1uLmxpbmtlZFBhdGgpLGUuY2FsbCh0aGlzLGwubm9ybWFsaXplUGF0aCh0KSxuKX0sbi5wcm90b3R5cGUuX2lzSW5jbHVkZWQ9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgbD10aGlzO3JldHVybiBmdW5jdGlvbihjLHUpe2lmKDA9PT1jLmluZGV4T2YoZSkpYz1zLnJlbGF0aXZlKGUsYyk7ZWxzZXtpKCJTeW1saW5rIHJlc29sdXRpb24gZm9yOiAlcyIsYyk7dmFyIGQ9cltjXTtpZihkKWM9cy5yZWxhdGl2ZShlLGQubGlua2VkUGF0aCk7ZWxzZXt2YXIgaD1fLmZpbmQocixmdW5jdGlvbihlLHQpe3JldHVybiAwPT09Yy5pbmRleE9mKHQpfSk7aWYoIWgpcmV0dXJuITE7Yz1zLnJlbGF0aXZlKGUsYy5yZXBsYWNlKGgucmVhbFBhdGgsaC5saW5rZWRQYXRoKSl9dSYmKHUubGlua2VkUGF0aD1jKX12YXIgcD1sLl9pc0VudGl0eUV4Y2x1ZGVkKGMsbixvKTtpZihwLmZpbGUmJnAudGVzdClyZXR1cm4hMTt2YXIgZj1vPyIuLyIrYzpjLGc9Xy5jbG9uZShfLmZpbmQodCxmdW5jdGlvbihlKXtyZXR1cm4oIXAuZmlsZSYmIWUudGVzdHx8IXAudGVzdCYmZS50ZXN0KSYmYShmLChvPyIuLyI6IiIpK2UucGF0dGVybil9KSk7cmV0dXJuIHUmJih1Lm1ldGFkYXRhPWcpLCEhZ319LG4ucHJvdG90eXBlLl9pc0VudGl0eUV4Y2x1ZGVkPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGkscixzPW4/Ii4vIitlOmUsbz0wLGw9dC5sZW5ndGg7bD5vO28rKyl7dmFyIGM9dFtvXSx1PWMudGVzdDtpZigoIWl8fHUpJiZhKHMsKG4/Ii4vIjoiIikrYy5wYXR0ZXJuKSl7aWYodSl7cj1jO2JyZWFrfWk9Y319cmV0dXJue2ZpbGU6aSx0ZXN0OnJ9fSxuLnByb3RvdHlwZS5fZ2V0QmFzZURpcj1mdW5jdGlvbihlKXt2YXIgdD1sLm5vcm1hbGl6ZVBhdGgoZS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKlwqLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpbXCFcK11cKC4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qXClcPy4qJC8sIiIpfHxzLnNlcCk7cmV0dXJuIHRoaXMuX2hhc0dsb2JDaGFycyh0KSYmKHQ9Ii4vIiksdH0sbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9cH0seyIuLi9zaGFyZWQvdXRpbHMiOjE1LGNob2tpZGFyOnZvaWQgMCxkZWJ1Zzp2b2lkIDAsImxydS1jYWNoZSI6dm9pZCAwLG1pbmltYXRjaDp2b2lkIDAscGF0aDp2b2lkIDB9XSwxMDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxyPShlKCJwYXRoIiksZSgibWluaW1hdGNoIikpLHM9ZSgiLi4vc2hhcmVkL3V0aWxzIiksbz1lKCIuL3RyYWNrZWRTb3VyY2VGaWxlIiksYT1lKCIuL2NvdmVyYWJsZVJhbmdlIiksbD1lKCIuL2V4ZWN1dGVkVGVzdCIpLGM9ZSgiLi9jb25zb2xlTWVzc2FnZSIpLHU9ZSgiLi9lcnJvckVudHJ5IiksZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcyxpPW47bi5fZmlsZUlkQnlQYXRoPXQuZmlsZUlkQnlQYXRoLG4uX2Fsd2F5c1NlbmRBbGxMaW5lcz10LmFsd2F5c1NlbmRBbGxMaW5lcyxuLl9maWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX251bWJlck9mQWxsUmFuZ2VzPTAsbi5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsbi5fY292ZXJhZ2U9e3ZhbHVlOjAsbG93OiEwfSxuLl90ZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX2ZhaWxpbmdUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX2dsb2JhbEVycm9ycz1PYmplY3QuY3JlYXRlKG51bGwpLG4uX3Rlc3RSdW5HbG9iYWxMb2dzPVtdLG4uX2NoYW5nZWQ9ITAsbi5fcHJvamVjdD10LnByb2plY3Q7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9aVsicHJvamVjdDoiK2UudHlwZV07dCYmdC5jYWxsKGksZSl9O3JldHVybiBuLl9wcm9qZWN0Ll9tb2RlbHx8cHJvY2Vzcy5lbnYucXVva2thP24uX3Byb2plY3Qub24oIm1lc3NhZ2UiLHIpOm4uX3Byb2plY3Qub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHIoZSl9LDMwKX0pLG59cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5jb25maWdGaWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiBzLm5vcm1hbGl6ZVBhdGgodGhpcy5fcHJvamVjdC5jb25maWdGaWxlUGF0aCgpKX0sdC5wcm90b3R5cGUucHJvamVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5wcm9qZWN0TmFtZSgpfSx0LnByb3RvdHlwZS5wcm9qZWN0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKX0sdC5wcm90b3R5cGUubG93Q292ZXJhZ2VUaHJlc2hvbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmxvd0NvdmVyYWdlVGhyZXNob2xkfSx0LnByb3RvdHlwZS5jb3JlVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LmNvcmVWZXJzaW9uKCl9LHQucHJvdG90eXBlLmZpbGVCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsZUlkQnlQYXRoKGUpO2lmKHQpcmV0dXJuIHRoaXMuX2ZpbGVzW3RdfSx0LnByb3RvdHlwZS5maWxlQnlJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZmlsZXNbZV19LHQucHJvdG90eXBlLmZpbGVDb250ZW50QnlQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZmlsZUJ5UGF0aChlKTtyZXR1cm4gdCYmdGhpcy5fcHJvamVjdC5yZWFkU291cmNlRmlsZSh0LmtleSgpKX0sdC5wcm90b3R5cGUudGVzdHNCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoZS5maWxlKXt2YXIgbj10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtuJiYoZS5saW5lfHwhbi5pc1Rlc3RGaWxlKCk/Xy5lYWNoKGUubGluZT9uLmxpbmVUZXN0cyhlLmxpbmUpOm4uY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKGUpe3QucHVzaChbZS5maWxlSWQoKV0uY29uY2F0KGUucGF0aCgpKSl9KTp0LnB1c2goW24ua2V5KCldKSl9cmV0dXJuIHR9LHQucHJvdG90eXBlLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUuZmlsZSk7aWYodClyZXR1cm4gXy5jaGFpbihlLmxpbmU/dC5saW5lUmFuZ2VzKGUubGluZSk6dC5yYW5nZXMoKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzQ292ZXJlZCgpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLnN0YXJ0TGluZSgpLGUuc3RhcnRDb2x1bW4oKSxlLmVuZExpbmUoKSxlLmVuZENvbHVtbigpXX0pLnZhbHVlKCl9LHQucHJvdG90eXBlLmxpbmVSZXBvcnRCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUuZmlsZSk7aWYodClyZXR1cm4gdGhpcy5fbGluZVJlcG9ydCh0LGUubGluZSl9LHQucHJvdG90eXBlLmxvY2F0aW9uQnlSZXF1ZXN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2xhdGVzdEZhaWxpbmdUZXN0QnlGaWxlQW5kTGluZShlKTtpZih0KXtpZigiZmFpbGluZ1Rlc3QiPT09ZS50eXBlKXt2YXIgbj10LnN0YXJ0UmFuZ2UoKTtyZXR1cm4gbj97ZmlsZTp0LmZpbGVQYXRoKCksbG9jOltuLnN0YXJ0TGluZSgpLG4uc3RhcnRDb2x1bW4oKV19Ont9fWlmKCJlcnJvclNvdXJjZSI9PT1lLnR5cGUpe3ZhciBpPV8uZmluZCh0LmVycm9ycygpLGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YWNrJiZlLnN0YWNrKCkubGVuZ3RofSk7aWYoIWkpe3ZhciBuPXQuc3RhcnRSYW5nZSgpO3JldHVybiBuP3tmaWxlOnQuZmlsZVBhdGgoKSxsb2M6W24uc3RhcnRMaW5lKCksbi5zdGFydENvbHVtbigpXX06e319dmFyIHI9aS5zdGFjaygpWzBdLHM9ci5yYW5nZSgpLG89e307cmV0dXJuIG8uZmlsZT1yLmZpbGVQYXRoKCkscyYmKG8ubG9jPVtzLnN0YXJ0TGluZSgpLHMuc3RhcnRDb2x1bW4oKV0pLG99fX0sdC5wcm90b3R5cGUuX2xhdGVzdEZhaWxpbmdUZXN0QnlGaWxlQW5kTGluZT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUmJnRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpLG49dCYmZS5saW5lJiZ0LmxpbmVDb3ZlcmluZ1Rlc3RzT3JkZXJlZEJ5RmFpbGluZ1RoZW5EYXRlKGUubGluZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0Vycm9yU291cmNlKCl8fGUuaXNPbkVycm9yUGF0aCgpfSlbMF07cmV0dXJuIG4mJm4uaXNGYWlsaW5nKCl8fChuPXRoaXMubGF0ZXN0RmFpbGluZ1Rlc3QoKSksbn0sdC5wcm90b3R5cGUuZXJyb3JCeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lKGUpO2lmKHQpe3ZhciBuPXQuZXJyb3JzKCk7aWYoIW4ubGVuZ3RoKXJldHVybjt2YXIgaT10LmZpbGVJZCgpO2lmKCJlcnJvclNvdXJjZSI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX21hcEVycm9ycyhfLmZpbHRlcihuLGZ1bmN0aW9uKHQpe3JldHVybiBfLmZpbmQodC5zdGFjaygpLGZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbGVJZCgpPT09aSYmdC5saW5lKCk9PT1lLmxpbmV9KX0pKVswXTtpZigiZmFpbGluZ1Rlc3QiPT09ZS50eXBlKXJldHVybiB0aGlzLl9tYXBFcnJvcnMobilbMF19fSx0LnByb3RvdHlwZS5sYXRlc3RGYWlsaW5nVGVzdD1mdW5jdGlvbigpe3JldHVybiBfLmxhc3QoXy52YWx1ZXModGhpcy5fZmFpbGluZ1Rlc3RzKSl9LHQucHJvdG90eXBlLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydD1mdW5jdGlvbihlKXtpZih0aGlzLl9ydW5FcnJvcilyZXR1cm4gdGhpcy5fcnVuRXJyb3I7dmFyIHQ9e2Vycm9yczp0aGlzLl9tYXBFcnJvcnModGhpcy5fZ2xvYmFsRXJyb3JzKSx0aW1lOmV9O2lmKHByb2Nlc3MuZW52LnF1b2trYSl7dC5tZXNzYWdlcz10aGlzLl9tYXBNZXNzYWdlcyh0aGlzLl90ZXN0UnVuR2xvYmFsTG9ncyk7dmFyIG49dGhpcy5fcHJvamVjdC5zZXR0aW5ncygpO24mJm4ucXVva2thJiZuLnF1b2trYS5pbnN0YWxsUGFja2FnZSYmXy5lYWNoKHQuZXJyb3JzLGZ1bmN0aW9uKGUpe2lmKGUmJmUubWVzc2FnZSl7dmFyIHQ9ZS5tZXNzYWdlLm1hdGNoKC9DYW5ub3QgZmluZCBtb2R1bGUgJyhbXidccyZ8O10rKScvKTt0JiZ0WzFdJiYoZS5taXNzaW5nUGFja2FnZT1zLnZhbGlkUGFja2FnZU5hbWUodFsxXSkpfX0pfWVsc2UgdC50b3RhbE51bWJlcj1fLnNpemUodGhpcy5fdGVzdHMpLHQuZmFpbGluZ051bWJlcj1fLnNpemUodGhpcy5fZmFpbGluZ1Rlc3RzKSx0LnRlc3RzPXRoaXMuX21hcFRlc3RzKHRoaXMuX2ZhaWxpbmdUZXN0cykucmV2ZXJzZSgpLnZhbHVlKCk7cmV0dXJuIHR9LHQucHJvdG90eXBlLmFsbFRlc3RGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLmZpbHRlcih0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1Rlc3RGaWxlKCl9KX0sdC5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3ZhciBlPV8uc2l6ZSh0aGlzLl90ZXN0cyksdD1fLnNpemUodGhpcy5fZmFpbGluZ1Rlc3RzKTtyZXR1cm57dG90YWw6ZSxwYXNzZWQ6ZS10LGZhaWxlZDp0LGNvdmVyYWdlOnRoaXMuX2NvdmVyYWdlfX0sdC5wcm90b3R5cGUuYWxsRmlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gXy5tYXAodGhpcy5fZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoKCksaWQ6ZS5rZXkoKX19KX0sdC5wcm90b3R5cGUuZ2xvYmFsRXJyb3JzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEVycm9yc30sdC5wcm90b3R5cGVbInByb2plY3Q6c3RhcnRpbmciXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9hZGRGaWxlKG5ldyBvKGUpKX0pLHRoaXMuX2VtaXQoImFsbEZpbGVzIix7ZmlsZXM6ZS5maWxlc30pfSx0LnByb3RvdHlwZVsicHJvamVjdDpmaWxlIl09ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlLG49ZVsiZGVsZXRlIl0saT10aGlzLmZpbGVCeUlkKHQuaWQpO2lmKGkmJiFuJiZ0aGlzLl9lbWl0KCJmaWxlQ2hhbmdlZCIse2ZpbGU6dH0pLGl8fG58fChpPW5ldyBvKHQpLHRoaXMuX2FkZEZpbGUoaSksdGhpcy5fZW1pdCgiZmlsZUFkZGVkIix7ZmlsZTp0fSkpLGkmJm4pe3RoaXMuX2RlbGV0ZUZpbGUodC5pZCk7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKSxzPWkub3duVGVzdHMoKTt0aGlzLl90ZXN0c1JlbW92ZWQocyksXy5lYWNoKHMsZnVuY3Rpb24oZSl7cmV0dXJuIF8uZXh0ZW5kKHIsZS5vYnNvbGV0ZSgpKX0pLGRlbGV0ZSByW3QuaWRdLGkuaXNUZXN0RmlsZSgpJiZ0aGlzLl9lbWl0KCJ0ZXN0RmlsZURlbGV0ZWQiLHtmaWxlOnR9KSx0aGlzLl9lbWl0KCJmaWxlRGVsZXRlZCIse2ZpbGU6dH0pLHRoaXMuX3VwZGF0ZUFmZmVjdGVkRmlsZXMociksdGhpcy5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGksITApLHRoaXMuX3VwZGF0ZVRvdGFsQ292ZXJhZ2UoKSxpLmRpc3Bvc2UoKX19LHQucHJvdG90eXBlWyJwcm9qZWN0OmNvbnNvbGVPdXRwdXQiXT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYyhlLmRhdGEpLG49dC5maWxlSWQoKTtpZihuKXt2YXIgaT10aGlzLmZpbGVCeUlkKG4pLHI9dC5yYW5nZSgpO2kmJnImJnQuc2V0RmlsZShpKX10aGlzLl9lbWl0KCJjb25zb2xlT3V0cHV0Iix7bWVzc2FnZTp0aGlzLl9tYXBNZXNzYWdlKHQpfSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSdW5FcnJvciJdPWZ1bmN0aW9uKGUpe3RoaXMuX3JlcG9ydEZhaWxlZFJ1bihlLm1lc3NhZ2UpfSx0LnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UmVzdWx0cyJdPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcyxpPU9iamVjdC5jcmVhdGUobnVsbCkscj1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuX3JlcG9ydE5vcm1hbFJ1bigpLHRoaXMuX3Rlc3RSdW5HbG9iYWxMb2dzPVtdLF8uZWFjaChlLnRlc3RzLGZ1bmN0aW9uKHIpe3ZhciBzPW5ldyBsKHIpO3MuaW5pdChudWxsLGUudHMsZnVuY3Rpb24oZSl7aVtlLmlkKCldPWUsdCE9PSExJiYodD90LmlzRmFpbGluZygpfHwodD1lLmlzRmFpbGluZygpP2U6ITEpOnQ9ZSl9LGZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEZpbGUobi5maWxlQnlJZChlLmZpbGVJZCgpKSl9KX0pLF8uZWFjaChlLmxvZyxmdW5jdGlvbihlKXt2YXIgdD1uZXcgYyhlKSxyPXQudGVzdElkKCk7aWYoMCE9PXIpe3ZhciBzPWlbcl07cyYmcy5hZGRDb25zb2xlTWVzc2FnZSh0KX12YXIgbz10LmZpbGVJZCgpO2lmKG8pe3ZhciBhPW4uZmlsZUJ5SWQobyksbD10LnJhbmdlKCk7YSYmbCYmKGEuc2V0UmFuZ2VDb25zb2xlTG9nKHQudGV4dCgpLGwpLHQuc2V0RmlsZShhKSl9MD09PXImJnByb2Nlc3MuZW52LnF1b2trYSYmbi5fdGVzdFJ1bkdsb2JhbExvZ3MucHVzaCh0KX0pO3ZhciBzPU9iamVjdC5jcmVhdGUobnVsbCksbz1PYmplY3QuY3JlYXRlKG51bGwpLGE9Xy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57Y292ZXJhZ2U6ZSxmaWxlOm4uZmlsZUJ5SWQoZS5pZCl9fSksZD1fLmZpbHRlcihhLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZS5pc1Rlc3RGaWxlKCksbj1lLmNvdmVyYWdlLmNoYW5nZWQmJiFlLmNvdmVyYWdlLnNpbmdsZVRlc3RDaGFuZ2VkLGk9dCYmbjtyZXR1cm4gaT9zW2UuZmlsZS5rZXkoKV09ZS5maWxlOnQmJihvW2UuZmlsZS5rZXkoKV09ZS5maWxlKSxpfSk7Xy5lYWNoKGQsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlO24uX3Rlc3RzUmVtb3ZlZCh0Lm93blRlc3RzKCkpLF8uZWFjaCh0LnJlbW92ZUFsbFRlc3RzKCksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSl9KSxfLmVhY2goaSxmdW5jdGlvbihlKXt2YXIgdD1uLmZpbGVCeUlkKGUuZmlsZUlkKCkpO18uZWFjaCh0LmFkZFRlc3QoZSksZnVuY3Rpb24oZSl7cltlLmtleSgpXT1lfSksbi5fdGVzdEFkZGVkKGUpfSksXy5lYWNoKGEsZnVuY3Rpb24oZSl7bi5fdXBkYXRlRmlsZVJhbmdlcyhlLGkpLHJbZS5maWxlLmtleSgpXT1lLmZpbGV9KSxfLmVhY2goaSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb21wbGV0ZUluaXRpYWxpemF0aW9uKG4uX2ZpbGVzQnlJZCgpKX0pO3ZhciBoPVtdO18uZWFjaChlLmdsb2JhbEVycm9ycyxmdW5jdGlvbihlKXt2YXIgdD1uZXcgdShlKTt0LmluaXQoKSxfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciBpPW4uZmlsZUJ5SWQoZS5maWxlSWQoKSk7aWYoaSl7ZS5zZXRGaWxlKGkpO3ZhciByPWkuY2xvc2VzdFJhbmdlKGUubGluZSgpKTtudWxsIT1yJiYoZS5zZXRSYW5nZShyKSxyLmZhaWxzKHQpKX19KSxoLnB1c2godCl9KSxfLmVhY2gobi5fdGVzdFJ1bkdsb2JhbExvZ3MsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlKCk7dCYmZS5zZXRSYW5nZSh0LmNsb3Nlc3RSYW5nZShlLmxpbmUoKSkpfSksdGhpcy5fcmVwb3J0R2xvYmFsRXJyb3JzKGgpLHRoaXMuX3VwZGF0ZUFmZmVjdGVkRmlsZXMocixlLnRpbWUpLHRoaXMuX2VtaXQoInRlc3RzRXhlY3V0ZWQiLHtmaXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkVGVzdDp0fHx2b2lkIDAsYWxsQWZmZWN0ZWRGaWxlczpyLGNoYW5nZWQ6cyxleGVjdXRlZDpvLGZ1bGxSdW46ZS5mdWxsUnVufSl9LHQucHJvdG90eXBlLl9hZGRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGVzW2Uua2V5KCldPWUsZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2UoKSYmKGUuX25vQ292ZXJhZ2VDYWxjdWxhdGlvbj0hIV8uZmluZCh0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkuZmlsZXNXaXRoTm9Db3ZlcmFnZUNhbGN1bGF0ZWQsZnVuY3Rpb24odCl7cmV0dXJuIHIoZS5wYXRoKCksdCl9KSl9LHQucHJvdG90eXBlLl9kZWxldGVGaWxlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLl9maWxlc1tlXX0sdC5wcm90b3R5cGUuX2xpbmVSZXBvcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dGVzdHM6dGhpcy5fbWFwVGVzdHMoZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZSh0KSl9fSx0LnByb3RvdHlwZS5fcmVwb3J0RmFpbGVkUnVuPWZ1bmN0aW9uKGUpe3RoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcnVuRXJyb3I9ZX0sdC5wcm90b3R5cGUuX3JlcG9ydE5vcm1hbFJ1bj1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9ydW5FcnJvcn0sdC5wcm90b3R5cGUuX3JlcG9ydEdsb2JhbEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLl9jaGFuZ2VkPXRoaXMuX2NoYW5nZWR8fF8uc2l6ZSh0aGlzLl9nbG9iYWxFcnJvcnMpIT09ZS5sZW5ndGgsXy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIGk9ZS5rZXkoKTtkZWxldGUgdC5fZ2xvYmFsRXJyb3JzW2ldLG5baV09ZX0pLHRoaXMuX2NoYW5nZWQ9dGhpcy5fY2hhbmdlZHx8IV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpLHRoaXMuX2dsb2JhbEVycm9ycz1ufSx0LnByb3RvdHlwZS5fdGVzdHNSZW1vdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPSEhdC5fZmFpbGluZ1Rlc3RzW25dO2RlbGV0ZSB0Ll90ZXN0c1tuXSxkZWxldGUgdC5fZmFpbGluZ1Rlc3RzW25dLHQuX2NoYW5nZWQ9aXx8dC5fY2hhbmdlZH0pfSx0LnByb3RvdHlwZS5fdGVzdEFkZGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCksbj10aGlzLl90ZXN0c1t0XTt0aGlzLl90ZXN0c1t0XT1lLGRlbGV0ZSB0aGlzLl9mYWlsaW5nVGVzdHNbdF0sZS5pc0ZhaWxpbmcoKSYmKHRoaXMuX2ZhaWxpbmdUZXN0c1t0XT1lKSx0aGlzLl9jaGFuZ2VkPSFufHxuJiZuLmlzRmFpbGluZygpfHxlLmlzRmFpbGluZygpfHx0aGlzLl9jaGFuZ2VkfSx0LnByb3RvdHlwZS5fZmlsZXNCeUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVzfSx0LnByb3RvdHlwZS5fdXBkYXRlQWZmZWN0ZWRGaWxlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT1PYmplY3QuY3JlYXRlKG51bGwpLHI9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7bi5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGUpJiZyLnB1c2goZSk7dmFyIHQ9ZS51cGRhdGVEb2N1bWVudCgpO3QmJihpW2UucGF0aCgpXT1uLl9hbHdheXNTZW5kQWxsTGluZXM/ZS5hbGxMaW5lcygpOnQpfSksXy5pc0VtcHR5KGkpfHx0aGlzLl9lbWl0KCJkb2N1bWVudHNVcGRhdGVkIix7ZG9jdW1lbnRzOml9KTt2YXIgcz10aGlzLl9jaGFuZ2VkO3MmJmRlbGV0ZSB0aGlzLl9jaGFuZ2VkLHIubGVuZ3RoJiZ0aGlzLl91cGRhdGVUb3RhbENvdmVyYWdlKCksCnRoaXMuX2VtaXQoInN0YXRzTWF5YmVDaGFuZ2VkIix7dGVzdFJlc3VsdHNDaGFuZ2VkOnMsZmlsZXNXaXRoQ2hhbmdlZENvdmVyYWdlOnIsdGltZTp0fSl9LHQucHJvdG90eXBlLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2lmKGUuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCkpe3ZhciBpPXQ/MDplLm51bWJlck9mQWxsUmFuZ2VzKCkscj10PzA6ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMoKSxzPTAsbz0wO2lmKGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT8ocz1pLWUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZS5udW1iZXJPZkFsbFJhbmdlcyxvPXItZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlLm51bWJlck9mQ292ZXJlZFJhbmdlcyk6KHM9aSxvPXIpLGUuX3ZhbHVlc0luY2x1ZGVkSW5Db3ZlcmFnZUFnZ3JlZ2F0ZT17bnVtYmVyT2ZBbGxSYW5nZXM6aSxudW1iZXJPZkNvdmVyZWRSYW5nZXM6cn0sbi5fbnVtYmVyT2ZBbGxSYW5nZXMrPXMsbi5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKz1vLDAhPT1zfHwwIT09bylyZXR1cm4hMH19LHQucHJvdG90eXBlLl91cGRhdGVUb3RhbENvdmVyYWdlPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL3RoaXMuX251bWJlck9mQWxsUmFuZ2VzKS8xMDB8fDA7dGhpcy5fY292ZXJhZ2U9e3ZhbHVlOmUsbG93OmU8dGhpcy5sb3dDb3ZlcmFnZVRocmVzaG9sZCgpfX0sdC5wcm90b3R5cGUuX3VwZGF0ZUZpbGVSYW5nZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPWUuZmlsZSxyPWUuY292ZXJhZ2U7Xy5lYWNoKHIucmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciByPW5ldyBhKGUpO3IuaW5pdChpLHQpLHIuc2V0Q29uc29sZUxvZyhpLnJhbmdlQ29uc29sZUxvZyhyKSksbi5wdXNoKHIpfSksaS5zZXRSYW5nZXMobixyLmNoYW5nZWQsZS5jb3ZlcmFnZS5zaW5nbGVUZXN0Q2hhbmdlZCksaS5jbGVhclJhbmdlQ29uc29sZUxvZygpfSx0LnByb3RvdHlwZS5fbWFwVGVzdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXyhlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2ZhaWxpbmc6ZS5pc0ZhaWxpbmcoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnN0YXJ0UmFuZ2UoKSksZmlsZTplLmZpbGVQYXRoKCksdGltZTplLnRpbWUoKSxlcnJvcnM6dC5fbWFwRXJyb3JzKGUuZXJyb3JzKCkpLHBhdGg6ZS5wYXRoKCksbWVzc2FnZXM6dC5fbWFwTWVzc2FnZXMoZS5jb25zb2xlTWVzc2FnZXMoKSl9fSl9LHQucHJvdG90eXBlLl9tYXBNZXNzYWdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9tYXBNZXNzYWdlKGUpfSl9LHQucHJvdG90eXBlLl9tYXBNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOmUudHlwZSgpLHRleHQ6ZS50ZXh0KCksZmlsZTplLmZpbGUoKSYmZS5maWxlKCkucGF0aCgpLGxvYzp0aGlzLl9yYW5nZVRvTG9jKGUucmFuZ2UoKSl8fGUubGluZSgpLGNvbnRleHQ6ZS5jb250ZXh0KCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpLGFjdHVhbDplLmFjdHVhbCgpfX0sdC5wcm90b3R5cGUuX21hcEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfLm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybnttZXNzYWdlOmUubWVzc2FnZSgpLHN0YWNrOl8ubWFwKGUuc3RhY2soKSxmdW5jdGlvbihlKXtyZXR1cm57ZmlsZTplLmZpbGVQYXRoKCksbG9jOnQuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksY29udGV4dDplLmNvbnRleHQoKX19KSxleHBlY3RlZDplLmV4cGVjdGVkKCksYWN0dWFsOmUuYWN0dWFsKCl9fSl9LHQucHJvdG90eXBlLl9yYW5nZVRvTG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YXJ0TGluZSYmZS5zdGFydExpbmUoKSsiOiIrZS5zdGFydENvbHVtbigpfHx2b2lkIDB9LHQucHJvdG90eXBlLl9lbWl0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZCh7dHlwZTplfSx0KSl9LHR9KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWR9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSwiLi9jb25zb2xlTWVzc2FnZSI6MywiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9lcnJvckVudHJ5Ijo3LCIuL2V4ZWN1dGVkVGVzdCI6OCwiLi90cmFja2VkU291cmNlRmlsZSI6MTMsbWluaW1hdGNoOnZvaWQgMCxwYXRoOnZvaWQgMH1dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoImRncmFtIikscj1lKCJvcyIpLHM9ZSgiLi8uLi8uLi91dGlscyIpLG89cy5yYW5kb21JZCgpLGE9bi5vcHRpb25zPXt0dGw6MTI4LGFkZHJlc3M6IjIzMC4wLjAuMyIscG9ydDo1NjM5OH0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0cnl7dmFyIGU9dGhpczt0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fc2VuZGVyPWkuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fc2VuZGVyLmJpbmQoZnVuY3Rpb24oKXtlLl9zZW5kZXIuc2V0QnJvYWRjYXN0KCEwKSxlLl9zZW5kZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKX0pLHRoaXMuX3NlbmRlci5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7dHJ5e2UuX3NlbmRlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlcj1pLmNyZWF0ZVNvY2tldCgidWRwNCIpLHRoaXMuX3JlY2VpdmVyLm9uKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7dHJ5e2UuX3JlY2VpdmVyLnNldEJyb2FkY2FzdCghMCksZS5fcmVjZWl2ZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKSxlLl9yZWNlaXZlci5hZGRNZW1iZXJzaGlwKGEuYWRkcmVzcyl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyLm9uKCJtZXNzYWdlIixmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQudG9TdHJpbmcoInV0ZjgiKSksdC5ldmVudCYmdC5zb3VyY2UmJnQuc291cmNlSWQmJnQuc291cmNlIT09ZS5fc291cmNlKCkmJnQuc291cmNlSWQhPT1vJiZfLmVhY2goZS5fbGlzdGVuZXJzW3QuZXZlbnRdLGZ1bmN0aW9uKGUpe2UuYXBwbHkobnVsbCxbdC5kYXRhLHQuc291cmNlXSl9KX1jYXRjaChuKXt9fSksdGhpcy5fcmVjZWl2ZXIub24oImVycm9yIixmdW5jdGlvbigpe3RyeXtlLl9yZWNlaXZlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlci5iaW5kKGEucG9ydCl9Y2F0Y2godCl7fX1yZXR1cm4gZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnNbZV18fCh0aGlzLl9saXN0ZW5lcnNbZV09W10pLHRoaXMuX2xpc3RlbmVyc1tlXS5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1uZXcgQnVmZmVyKEpTT04uc3RyaW5naWZ5KHtldmVudDplLGRhdGE6dCxzb3VyY2U6dGhpcy5fc291cmNlKCksc291cmNlSWQ6b30pKTt0aGlzLl9zZW5kZXIuc2VuZChuLDAsbi5sZW5ndGgsYS5wb3J0LGEuYWRkcmVzcyl9Y2F0Y2goaSl7fX0sZS5wcm90b3R5cGUuX3NvdXJjZT1mdW5jdGlvbigpe3JldHVybiByLmhvc3RuYW1lKCkrIiAoIitlLl9nZXRJUHY0QWRkcmVzcygpKyIpIn0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RyeXt0aGlzLl9zZW5kZXIuY2xvc2UoKX1jYXRjaChlKXt9dHJ5e3RoaXMuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0sZS5fZ2V0SVB2NEFkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gXy5lYWNoKHIubmV0d29ya0ludGVyZmFjZXMoKSxmdW5jdGlvbih0KXtpZighZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZigiSVB2NCI9PT1pLmZhbWlseSYmIjEyNy4wLjAuMSIhPT1pLmFkZHJlc3MmJiFpLmludGVybmFsKXJldHVybiB2b2lkKGU9aS5hZGRyZXNzKX19KSxlfHwiMC4wLjAuMCJ9LGV9KCk7dC5leHBvcnRzPW5ldyBsfSx7Ii4vLi4vLi4vdXRpbHMiOjE3LGRncmFtOnZvaWQgMCxvczp2b2lkIDB9XSwxMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpdGhpcy5fZmlsZUlkPWFyZ3VtZW50c1swXSx0aGlzLl9saW5lPWFyZ3VtZW50c1sxXSx0aGlzLl9jb250ZXh0PWFyZ3VtZW50c1syXTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXS5zcGxpdCgiXyIpO3RoaXMuX2ZpbGVJZD1wYXJzZUludChlWzBdLDEwKSx0aGlzLl9saW5lPXBhcnNlSW50KGVbMV0sMTApfX1yZXR1cm4gZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fbGluZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLnNldEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZT1lfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlJiZ0aGlzLl9maWxlLnBhdGgoKXx8dGhpcy5fZmlsZUlkJiZ+dGhpcy5fZmlsZUlkLmluZGV4T2YoIi4iKSYmdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDEzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxyPWUoIi4vZG9jdW1lbnRJbkVkaXRvciIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RhdGE9ZSx0aGlzLl9yYW5nZUNvbnNvbGVMb2c9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTB9cmV0dXJuIGUucHJvdG90eXBlLnNldFJhbmdlQ29uc29sZUxvZz1mdW5jdGlvbihlLHQpe3ZhciBuPTgxOTIscj1pLnJhbmdlS2V5KHQpLHM9dGhpcy5fcmFuZ2VDb25zb2xlTG9nW3JdO3N8fChzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tyXT1bXSk7dmFyIG89ZS5sZW5ndGg+bj8iLi4uIjoiIjtlPWUuc3Vic3RyKDAsbikscy5wdXNoKGUrbyl9LGUucHJvdG90eXBlLnJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9LGUucHJvdG90eXBlLmluc3RydW1lbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvdmVyYWJsZX0sZS5wcm90b3R5cGUudXBkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1fLmV4dGVuZCh7fSx0aGlzLl9uZXdSYW5nZXMsdGhpcy5fYWZmZWN0ZWRSYW5nZXMsdGhpcy5fb3V0ZGF0ZWRSYW5nZXMpLHQ9dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQsbj10aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQ7aWYoZGVsZXRlIHRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLGRlbGV0ZSB0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQsXy5lYWNoKHRoaXMuX291dGRhdGVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pLHRoaXMuX25ld1Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FmZmVjdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fb3V0ZGF0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgaT1uP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKF8udmFsdWVzKHRoaXMuX3JhbmdlcyksITAsITApOnRoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKGUsdCwhMSk7cmV0dXJuIGkuZnVsbFVwZGF0ZT1uLGl9fSxlLnByb3RvdHlwZS5hbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IuYWxsTGluZXMoKTp2b2lkIDB9LGUucHJvdG90eXBlLm9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKCl7dGhpcy5fZG9jdW1lbnRJbkVkaXRvcnx8KHRoaXMuX2RvY3VtZW50SW5FZGl0b3I9bmV3IHIsdGhpcy5fZG9jdW1lbnRJbkVkaXRvci51cGRhdGUoXy52YWx1ZXModGhpcy5fcmFuZ2VzKSwhMSwhMCkpfSxlLnByb3RvdHlwZS5jbG9zZWRJbkFsbEVkaXRvcnM9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZG9jdW1lbnRJbkVkaXRvcn0sZS5wcm90b3R5cGUuaXNPcGVuZWRJbkVkaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yfSxlLnByb3RvdHlwZS5zaGlmdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3Iuc2hpZnRMaW5lcyhlLHQsbil9LGUucHJvdG90eXBlLmludmFsaWRhdGVEb2N1bWVudExpbmVzPWZ1bmN0aW9uKGUpe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3IuaW52YWxpZGF0ZUxpbmVzKGUpfSxlLnByb3RvdHlwZS5pbnZhbGlkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiYodGhpcy5faW52YWxpZGF0ZURvY3VtZW50PSEwKX0sZS5wcm90b3R5cGUuaGFzVmFsaWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnR9LGUucHJvdG90eXBlLmxpbmVUZXN0cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cyhlKX0sZS5wcm90b3R5cGUubGluZVJhbmdlcz1mdW5jdGlvbihlKXtpZih0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgdD10aGlzLl9kb2N1bWVudEluRWRpdG9yLmxpbmUoZSk7aWYodClyZXR1cm4gdC5yYW5nZXMoKX19LGUucHJvdG90eXBlLmNvdmVyaW5nVGVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cygpfSxlLnByb3RvdHlwZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBfLmNoYWluKHRoaXMuX2NvdmVyaW5nVGVzdHMoZSx0KSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzRmFpbGluZygpfSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybi1lLnRzKCl9KS52YWx1ZSgpfSxlLnByb3RvdHlwZS5fY292ZXJpbmdUZXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUpe2lmKCF0aGlzLl9kb2N1bWVudEluRWRpdG9yKXJldHVybltdO2lmKG49dGhpcy5fZG9jdW1lbnRJbkVkaXRvci5saW5lKGUpLCFuKXJldHVybltdfXZhciBpPW4/bi5yYW5nZXMoKTp0aGlzLl9yYW5nZXM7cmV0dXJuIHQmJihpPV8uZmlsdGVyKGksdCkpLF8ucmVkdWNlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5lYWNoKHQuY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKHQpe2VbdC5rZXkoKV09dH0pLGV9LHt9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9kb2N1bWVudEluRWRpdG9yLF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzcG9zZSgpfSksZGVsZXRlIHRoaXMuX3JhbmdlcyxkZWxldGUgdGhpcy5fdGVzdE1hcH0sZS5wcm90b3R5cGUucmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZUNvbnNvbGVMb2dbZS5rZXkoKV19LGUucHJvdG90eXBlLmNsZWFyUmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCl9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmlkfSxlLnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEucGF0aH0sZS5wcm90b3R5cGUuYWRkVGVzdD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpLG49dGhpcy5fdGVzdE1hcFtlLmtleSgpXTtyZXR1cm4gbiYmXy5lYWNoKG4ub2Jzb2xldGUoKSxmdW5jdGlvbihlKXt0W2Uua2V5KCldPWV9KSx0aGlzLl90ZXN0TWFwW2Uua2V5KCldPWUsZS5zZXRUZXN0RmlsZSh0aGlzKSx0fSxlLnByb3RvdHlwZS5yYW5nZUNvdmVyYWdlQ2hhbmdlZD1mdW5jdGlvbihlLHQpe3RoaXMuX2FmZmVjdGVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIG49ZS5pc0NvdmVyZWQoKTt0IT09biYmKHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcys9bj8xOi0xKX0sZS5wcm90b3R5cGUuaXNUZXN0RmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLnRlc3R9LGUucHJvdG90eXBlLmNvdmVyYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCk/TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL18uc2l6ZSh0aGlzLl9yYW5nZXMpKS8xMDA6dm9pZCAwfSxlLnByb3RvdHlwZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1Rlc3RGaWxlKCkmJnRoaXMuaW5zdHJ1bWVudGVkKCkmJiF0aGlzLl9ub0NvdmVyYWdlQ2FsY3VsYXRpb259LGUucHJvdG90eXBlLm51bWJlck9mQ292ZXJlZFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXN9LGUucHJvdG90eXBlLm51bWJlck9mQWxsUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uc2l6ZSh0aGlzLl9yYW5nZXMpfSxlLnByb3RvdHlwZS5zZXRSYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQ9dCx0JiZ0aGlzLl9yZWJ1aWxkUmFuZ2VNYXAoKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO18uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBzPWUua2V5KCksbz1pLl9yYW5nZXNbc107aWYobyl7dmFyIGE9by5pc0NvdmVyZWQoKSxsPWUuaXNDb3ZlcmVkKCk7dHx8YT09PWx8fChpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPWw/MTotMSksby51cGRhdGVGcm9tKGUsdCxuKSxyW3NdPW8saS5fYWZmZWN0ZWRSYW5nZXNbc109b31lbHNlIGkuX3Jhbmdlc1tzXT1lLGkuX25ld1Jhbmdlc1tzXT1lLGUuYXR0YWNoZWRUb1NvdXJjZUZpbGUoKSxlLmlzQ292ZXJlZCgpJiYhdCYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKyt9KSx0JiYoaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goXy52YWx1ZXModGhpcy5fcmFuZ2VzKSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2lmKGkuX25ld1Jhbmdlc1t0XXx8clt0XSl7ZS5pc0NvdmVyZWQoKSYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKys7Zm9yKHZhciBuPWUuc3RhcnRMaW5lKCk7bjw9ZS5lbmRMaW5lKCk7bisrKXt2YXIgcz1pLl9saW5lVG9SYW5nZU1hcFtuXTsoIXN8fGUuaXNJbnNpZGVPZihzKSkmJihpLl9saW5lVG9SYW5nZU1hcFtuXT1lKX19ZWxzZSBpLl9vdXRkYXRlZFJhbmdlc1t0XT1lLGRlbGV0ZSBpLl9yYW5nZXNbdF19KSl9LGUucHJvdG90eXBlLm93blRlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX3Rlc3RNYXApfSxlLnByb3RvdHlwZS5yZW1vdmVBbGxUZXN0cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIF8uZWFjaCh0aGlzLm93blRlc3RzKCksZnVuY3Rpb24odCl7Xy5lYWNoKHQub2Jzb2xldGUoKSxmdW5jdGlvbih0KXtlW3Qua2V5KCldPXR9KX0pLHRoaXMuX3Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxlfSxlLnByb3RvdHlwZS5jbG9zZXN0UmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVUb1JhbmdlTWFwW2VdfSxlLnByb3RvdHlwZS5fcmVidWlsZFJhbmdlTWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3Jhbmdlczt0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godCxmdW5jdGlvbih0KXt2YXIgbj10LmtleSgpLGk9ZS5fcmFuZ2VzW25dO2UuX3Jhbmdlc1tuXT10LGkmJmkuZGlzcG9zZSgpfSl9LGV9KCk7dC5leHBvcnRzPXN9LHsiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9kb2N1bWVudEluRWRpdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2xpbmVTdGF0ZTp7bm90Q292ZXJlZDoxLGZ1bGx5Q292ZXJlZDoyLHBhcnRpYWxseUNvdmVyZWQ6MyxlcnJvclNvdXJjZTo0LGVycm9yUGF0aDo1fX19LHt9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz17bm9ybWFsaXplUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4id2luMzIiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmZT9lLnJlcGxhY2UoL1xcL2csIi8iKTplfSxwYXJzZUtleTpmdW5jdGlvbihlKXt2YXIgdD17fSxuPW5ldyBCdWZmZXIoZSwiYmFzZTY0IikudG9TdHJpbmcoKS5zcGxpdCgiXG4iKTt0LmxpY2Vuc2VlTmFtZT1uWzBdLHQubGljZW5zZVRhZ3M9blsxXTt2YXIgaT10LmxpY2Vuc2VUYWdzLnNwbGl0KCIsIik7cmV0dXJuIGkubGVuZ3RoPj0xJiYodC5saWNlbnNlZUVtYWlsPWlbMF0pLGkubGVuZ3RoPj0yJiYodC5saWNlbnNlZFByb2R1Y3Q9aVsxXSksdC5leHBpcmF0aW9uRGF0ZVN0cmluZz1uWzJdLHQubGljZW5zZVNpZ25hdHVyZT1uWzNdLHR9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoL1x7KFswLTlhLXpBLVpfXSspXH0vZyxmdW5jdGlvbihuLGkscil7dmFyIHM7cmV0dXJuInsiPT09ZVtyLTFdJiYifSI9PT1lW3Irbi5sZW5ndGhdP2k6KHM9dC5oYXNPd25Qcm9wZXJ0eShpKT90W2ldOm51bGwsbnVsbD09PXN8fHZvaWQgMD09PXM/IiI6cyl9KX0sdmFsaWRQYWNrYWdlTmFtZTpmdW5jdGlvbihlKXtpZihlJiYhZS5tYXRjaCgvXlwuLykmJiFlLm1hdGNoKC9eXy8pJiYhKGUubGVuZ3RoPjIxNHx8ZS50b0xvd2VyQ2FzZSgpIT09ZXx8L1t+JyEoKSpdLy50ZXN0KGUuc3BsaXQoIi8iKS5zbGljZSgtMSlbMF0pKSl7aWYoZW5jb2RlVVJJQ29tcG9uZW50KGUpPT09ZSlyZXR1cm4gZTt2YXIgdD1lLm1hdGNoKC9eKD86QChbXlwvXSs/KVtcL10pPyhbXlwvXSs/KSQvKTtpZih0KXt2YXIgbj10WzFdLGk9dFsyXTtpZihlbmNvZGVVUklDb21wb25lbnQobik9PT1uJiZlbmNvZGVVUklDb21wb25lbnQoaSk9PT1pKXJldHVybiBlfX19fX0se31dLDE2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscz1lKCJuZXQiKSxvPWUoImh0dHAiKSxhPWUoInVybCIpLGw9ZSgid3MiKS5TZXJ2ZXIsYz1lKCIuLi9zZXJ2ZXIvZG9jdW1lbnRJbkVkaXRvciIpLHU9WzUxMjM1LDUxMjM2LDUxMjM3LDUxMjM4LDUxMjM5LDUxMjQwLDUxMjQxLDUxMjQyLDUxMjQzLDUxMjQ0LDUyNzQyLDUyNzQzLDUyNzQ0LDUyNzQ1LDUyNzQ2LDUyNzQ3LDUyNzQ4LDUyNzQ5LDUyNzUwLDUyNzUxLDUzNTc4LDUzNTc5LDUzNTgwLDUzNTgxLDUzNTgyLDUzNTgzLDUzNTg0LDUzNTg1LDUzNTg2LDUzNTg3XSxkPTUxMjQ1LGg9JzwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz0iZW4iPlxuPGhlYWQ+XG4gICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPlxuICAgIDxsaW5rIGlkPSJmYXZpY29uIiByZWw9Imljb24iIGhyZWY9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY28iIHR5cGU9ImltYWdlL3gtaWNvbiIvPlxuICAgIDxsaW5rIGlkPSJzaG9ydGN1dCIgcmVsPSJzaG9ydGN1dCBpY29uIiBocmVmPSJodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvIiB0eXBlPSJpbWFnZS94LWljb24iLz5cbiAgICA8c3R5bGU+XG4gICAgICAgIGh0bWwsXG4gICAgICAgIGJvZHkge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIH1cbiAgICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHkgc3R5bGU9Im1hcmdpbjowcHg7cGFkZGluZzowcHg7b3ZlcmZsb3c6aGlkZGVuOyI+XG48c2NyaXB0PlxuICB0cnkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwnbWVzc2FnZVwnLCBmdW5jdGlvbiAobSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG0uZGF0YS50aXRsZSkge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gbS5kYXRhLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtLmRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgaWYgKG0uZGF0YS5zdGF0dXMucGFzc2luZykge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvXCcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdzaG9ydGN1dFwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljb1wnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdmYXZpY29uXCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24tYWx0Lmljb1wnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2hvcnRjdXRcJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi1hbHQuaWNvXCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbjwvc2NyaXB0PlxuPGlmcmFtZSBzcmM9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAiIGZyYW1lYm9yZGVyPSIwIiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxMDAlO3dpZHRoOjEwMCUiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiPjwvaWZyYW1lPlxuPC9ib2R5PlxuPC9odG1sPlxuJyxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzLHM9cjtyZXR1cm4gci5fZmluZEZyZWVQb3J0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gcy5fc3RhcnQoZSxuKX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc3RhcnQgd2FsbGFieSBhcHAgc2VydmljZTogIisoZSYmZS5tZXNzYWdlKSl9KSxpPWUoImRlYnVnIikoIndhbGxhYnk6dWlTZXJ2aWNlIikscy5fY29ubmVjdGlvbnM9W10scy5fb3BlbmVkRmlsZXM9e30scn1yZXR1cm4gcihuLHQpLG4ucHJvdG90eXBlWyJ1aTpzdGFydCJdPWZ1bmN0aW9uKGUsdCl7dGhpcy5fc2VuZChfLmV4dGVuZCh7dHlwZToidWk6c3VtbWFyeSJ9LHRoaXMuX21vZGVsLnN1bW1hcnkoKSksdCk7dmFyIG49dGhpcy5fbW9kZWwuYWxsRmlsZXMoKTtfLmlzRW1wdHkobil8fHRoaXMuX3NlbmRBbGxGaWxlc1dpdGhDb3ZlcmFnZShuLHQpfSxuLnByb3RvdHlwZVsidWk6bmF2aWdhdGUiXT1mdW5jdGlvbihlKXtlLmxpbmU9cGFyc2VJbnQoZS5saW5lLDEwKSxlLmNvbHVtbj1wYXJzZUludChlLmNvbHVtbiwxMCksXy5pc05hTihlLmxpbmUpJiYoZS5saW5lPTEpLF8uaXNOYU4oZS5jb2x1bW4pJiZkZWxldGUgZS5jb2x1bW4sdGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZChlLHt0eXBlOiJuYXZpZ2F0aW9uUmVxdWVzdGVkIn0pKX0sbi5wcm90b3R5cGVbInVpOnJ1blRlc3RzIl09ZnVuY3Rpb24oZSl7dGhpcy5fbW9kZWwuX3Byb2plY3QucnVuVGVzdHMoe3Rlc3RzOmUudGVzdHN9KX0sbi5wcm90b3R5cGVbInVpOm9wZW5lZEluRWRpdG9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT90aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdKys6dGhpcy5fb3BlbmVkRmlsZXNbZS5wYXRoXT0xfSxuLnByb3RvdHlwZVsidWk6Y2xvc2VkSW5FZGl0b3IiXT1mdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdJiZ0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdLS19LG4ucHJvdG90eXBlWyJ1aTpjb2RlUmVxdWVzdGVkIl09ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5fbW9kZWwuZmlsZUNvbnRlbnRCeVBhdGgoZS5wYXRoKTtpJiZpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIHIscz1uZXcgYyxvPW4uX21vZGVsLmZpbGVCeVBhdGgoZS5wYXRoKSxhPVtdLGw9W107byYmby5pbnN0cnVtZW50ZWQoKSYmKHMudXBkYXRlKF8udmFsdWVzKG8ucmFuZ2VzKCkpLCExLCEwKSxsPXMuYWxsTGluZXMoKS5saW5lc3x8W10sYT1uLl9tb2RlbC51bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0KHtmaWxlOmUucGF0aH0pfHxbXSxyPW4uX3JlcG9ydEZpbGVDb3ZlcmFnZShvKSksbi5fc2VuZCh7dHlwZToidWk6Y29kZSIsY29ycmVsYXRpb25JZDplLmNvcnJlbGF0aW9uSWQsY29kZTppLnRvU3RyaW5nKCksbGluZXM6bCx1bmNvdmVyZWRSZWdpb25zOmEsY292ZXJhZ2U6cn0sdCl9KX0sbi5wcm90b3R5cGVbInVpOnRlc3RzOnJlc3VsdHNSZXF1ZXN0ZWQiXT1mdW5jdGlvbihlLHQpe3QuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMCx0aGlzLl9zZW5kVGVzdFJlc3VsdHModm9pZCAwLHQpfSxuLnByb3RvdHlwZVsidWk6dGVzdHM6cmVzdWx0c0FiYW5kb25lZCJdPWZ1bmN0aW9uKGUsdCl7dC5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzPSExfSxuLnByb3RvdHlwZVsibW9kZWw6dGVzdEZpbGVEZWxldGVkIl09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kKHt0eXBlOiJ1aTp0ZXN0czpzb21lUmVzdWx0c1VwZGF0ZWQiLGZpbGVzOlt7cGF0aDplLmZpbGUucGF0aCxhY3Rpb246ImRlbGV0ZWQifV19LG4pfSl9LG4ucHJvdG90eXBlWyJtb2RlbDphbGxGaWxlcyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKG4pe24uX2FsbG93ZWRUb1NlbmRBbGxGaWxlcyYmdC5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKF8ubWFwKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJue3BhdGg6ZS5wYXRoLGlkOmUuaWR9fSksbil9KX0sbi5wcm90b3R5cGVbIm1vZGVsOmZpbGVBZGRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiYWRkZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkLHRlc3Q6ZS5maWxlLnRlc3R8fHZvaWQgMH1dfSl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiY2hhbmdlZCIscGF0aDplLmZpbGUucGF0aCxpZDplLmZpbGUuaWR9XX0pfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZURlbGV0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6W3thY3Rpb246ImRlbGV0ZWQiLHBhdGg6ZS5maWxlLnBhdGgsaWQ6ZS5maWxlLmlkfV19KX0sbi5wcm90b3R5cGVbIm1vZGVsOnRlc3RzRXhlY3V0ZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuX3NlbmQoXy5leHRlbmQoe3R5cGU6InVpOnN1bW1hcnkifSx0aGlzLl9tb2RlbC5zdW1tYXJ5KCkpKSxfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzJiZ0Ll9zZW5kVGVzdFJlc3VsdHMoZSxuKX0pLCFfLmlzRW1wdHkoZS5hbGxBZmZlY3RlZEZpbGVzKSl7dmFyIG49W10saT1fLnJlZHVjZShlLmFsbEFmZmVjdGVkRmlsZXMsZnVuY3Rpb24oZSxpKXt2YXIgcj10Ll9yZXBvcnRGaWxlQ292ZXJhZ2UoaSk7cmV0dXJuIHImJnIudmFsdWVDaGFuZ2VkJiYoZGVsZXRlIHIudmFsdWVDaGFuZ2VkLGVbaS5rZXkoKV09ciksdC5fb3BlbmVkRmlsZXNbaS5wYXRoKCldJiZuLnB1c2goe2FjdGlvbjoiYWZmZWN0ZWQiLHBhdGg6aS5wYXRoKCksaWQ6aS5rZXkoKSx0ZXN0OmkuaXNUZXN0RmlsZSgpfHx2b2lkIDB9KSxlfSx7fSk7Xy5pc0VtcHR5KGkpfHx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpjb3ZlcmFnZUNoYW5nZWQiLGNoYW5nZXM6aX0pLF8uaXNFbXB0eShuKXx8dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOm59KX19LG4ucHJvdG90eXBlLl9yZXBvcnRGaWxlQ292ZXJhZ2U9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQsbj1lLmNvdmVyYWdlKCk7cmV0dXJuIG4+PTAmJih0PXt2YWx1ZTpuLGxvdzpuPHRoaXMuX21vZGVsLmxvd0NvdmVyYWdlVGhyZXNob2xkKCkscmFuZ2VzOntjb3ZlcmVkOmUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKCksYWxsOmUubnVtYmVyT2ZBbGxSYW5nZXMoKX0sdmFsdWVDaGFuZ2VkOmUuX2xhdGVzdFJlcG9ydGVkQ292ZXJhZ2VWYWx1ZSE9PW58fHZvaWQgMH0sZS5fbGF0ZXN0UmVwb3J0ZWRDb3ZlcmFnZVZhbHVlPW4pLHR9fSxuLnByb3RvdHlwZS5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0Ll9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITEsdGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOmUubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO3JldHVybnthY3Rpb246ImFkZGVkIixwYXRoOmUucGF0aCxpZDplLmlkLHRlc3Q6dCYmdC5pc1Rlc3RGaWxlKCl8fHZvaWQgMCxjb3ZlcmFnZTpuLl9yZXBvcnRGaWxlQ292ZXJhZ2UodCl9fSl9LHQpfSxuLnByb3RvdHlwZS5fc2VuZFRlc3RSZXN1bHRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHM9InNvbWVSZXN1bHRzVXBkYXRlZCI7ZT8oZS5mdWxsUnVuJiYocz0iYWxsUmVzdWx0c1VwZGF0ZWQiKSxuPWUuY2hhbmdlZCxpPWUuZXhlY3V0ZWQscj1lLmZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWRUZXN0KToocz0iYWxsUmVzdWx0c1VwZGF0ZWQiLG49dGhpcy5fbW9kZWwuYWxsVGVzdEZpbGVzKCkpLHRoaXMuX3NlbmQoe3R5cGU6InVpOnRlc3RzOiIrcyxmaWxlczp0aGlzLl9jcmVhdGVUZXN0UmVzdWx0cyhuLHIsImNoYW5nZWQiKS5jb25jYXQodGhpcy5fY3JlYXRlVGVzdFJlc3VsdHMoaSxyLCJleGVjdXRlZCIpKX0sdCl9LG4ucHJvdG90eXBlLl9jcmVhdGVUZXN0UmVzdWx0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcyxyPV8ucmVkdWNlKHRoaXMuX21vZGVsLmdsb2JhbEVycm9ycygpLGZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoXy5lYWNoKHQuc3RhY2soKSxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGVJZCgpO2lmKHQpe3ZhciByPWkuX21vZGVsLmZpbGVCeUlkKHQpO2lmKHIuaXNUZXN0RmlsZSgpKXJldHVybiBuPXIsITF9fSksbil7dmFyIHI9ZVtuLmtleSgpXT1lW24ua2V5KCldfHxbXTtyLnB1c2goe21lc3NhZ2U6dC5tZXNzYWdlKCksc3RhY2s6Xy5tYXAodC5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybiBpLl9idWlsZExvY2F0aW9uKGUsZS5maWxlUGF0aCgpKX0pfSl9cmV0dXJuIGV9LHt9KXx8e307cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7dmFyIHM9e307cmV0dXJuIF8uZWFjaChlLm93blRlc3RzKCksZnVuY3Rpb24oZSl7dmFyIG49ZS5wYXRoKCkscj0iOiIrXy5sYXN0KG4pLG89cztuLmxlbmd0aD4xJiZfLmVhY2goXy50YWtlKG4sbi5sZW5ndGgtMSksZnVuY3Rpb24oZSl7ZT0iOiIrZTt2YXIgdD1vW2VdO3R8fCh0PXt9LG9bZV09dCksbz10fSk7dmFyIGE9Xy5tYXAoZS5jb3ZlcmVkRmlsZXMoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXkoKX0pO18uaXNFbXB0eShhKSYmKGE9dm9pZCAwKSxvW3JdPXtpc1Rlc3Q6ITAsZmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZDplPT09dHx8dm9pZCAwLG5hbWU6ci5zdWJzdHIoMSksdGltZTplLnRpbWUoKSxzbG93OmUuc2xvdygpLGxpbmU6ZS5zdGFydFJhbmdlKCk/ZS5zdGFydFJhbmdlKCkuc3RhcnRMaW5lKCk6MSxsb2dzOl8ubWFwKGUuY29uc29sZU1lc3NhZ2VzKCksZnVuY3Rpb24oZSl7dmFyIHQ9e21lc3NhZ2U6ZS50ZXh0KCl9O3JldHVybiBlLmZpbGUoKSYmKHQubG9jYXRpb249aS5fYnVpbGRMb2NhdGlvbihlLGUuZmlsZSgpLnBhdGgoKSkpLHR9KSxlcnJvcnM6Xy5tYXAoZS5lcnJvcnMoKSxmdW5jdGlvbihlKXtyZXR1cm57bWVzc2FnZTplLm1lc3NhZ2UoKSxzdGFjazpfLm1hcChlLnN0YWNrKCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGVQYXRoKCkpfSksYWN0dWFsOmUuYWN0dWFsKCksZXhwZWN0ZWQ6ZS5leHBlY3RlZCgpfX0pLGNvdmVyZWRGaWxlczphfX0pLHtwYXRoOmUucGF0aCgpLGFjdGlvbjpuLHRlc3RzOmkuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKHMpLGVycm9yczpyW2Uua2V5KCldfX0pfSxuLnByb3RvdHlwZS5fYnVpbGRMb2NhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPXtwYXRoOnR9O3JldHVybiBlLnJhbmdlKCk/KG4ubGluZT1lLnJhbmdlKCkuc3RhcnRMaW5lKCksbi5jb2x1bW49ZS5yYW5nZSgpLnN0YXJ0Q29sdW1uKCkpOmUubGluZSgpJiYobi5saW5lPWUubGluZSgpKSxuLmNvbnRleHQ9ZS5jb250ZXh0KCksbn0sbi5wcm90b3R5cGUuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5pc1Rlc3Q9PT0hMD8oZGVsZXRlIGUuaXNUZXN0LGUpOntuYW1lOm4uc3Vic3RyKDEpLHRlc3RzOnQuX2J1aWxkQXJyYXlUZXN0U3RydWN0dXJlKGUpfX0pfSxuLnByb3RvdHlwZS5fc3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXt2YXIgdD1uWyJtb2RlbDoiK2UudHlwZV07dCYmdC5jYWxsKG4sZSl9KX0scz1mdW5jdGlvbigpe24uX3dzcz1uZXcgbCh7cG9ydDplLHZlcmlmeUNsaWVudDpmdW5jdGlvbihlKXt2YXIgdD0hMTt0cnl7dmFyIG49YS5wYXJzZShlLm9yaWdpbik7dD0id2FsbGFieWpzLmNvbSI9PT1uLmhvc3RuYW1lfWNhdGNoKGkpe31yZXR1cm4gdH19KSxuLl93c3Mub24oImNvbm5lY3Rpb24iLGZ1bmN0aW9uKGUpe2koIlVJIGNsaWVudCBjb25uZWN0ZWQiKSxuLl9tb2RlbD10LGUuX2FsbG93ZWRUb1NlbmRUZXN0UmVzdWx0cz0hMSxlLl9hbGxvd2VkVG9TZW5kQWxsRmlsZXM9ITAsIW4uX2Nvbm5lY3Rpb25zLmxlbmd0aCYmbi5fbW9kZWwub24oIm1lc3NhZ2UiLHIpLG4uX2Nvbm5lY3Rpb25zLnB1c2goZSksZS5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZSh0KX1jYXRjaChzKXtyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gZGVzZXJpYWxpemUgbWVzc2FnZSBmcm9tIHdhbGxhYnkgVUk6ICIrdCsiLCAiKyhzJiZzLm1lc3NhZ2UpKX1pKCJJbmNvbWluZyBtZXNzYWdlICVzIixyLnR5cGUpO3ZhciBvPW5bci50eXBlXTtvJiZvLmNhbGwobixyLGUpfSksZS5vbigiY2xvc2UiLGZ1bmN0aW9uKCl7aSgiVUkgY2xpZW50IGRpc2Nvbm5lY3RlZCIpLG4uX2Nvbm5lY3Rpb25zPW4uX2Nvbm5lY3Rpb25zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9ZX0pLCFuLl9jb25uZWN0aW9ucy5sZW5ndGgmJm4uX21vZGVsLnJlbW92ZUxpc3RlbmVyKCJtZXNzYWdlIixyKX0pLG4uX3NlbmQoe3R5cGU6InVpOmhhbmRzaGFrZSIscHJvamVjdDp7bmFtZTpuLl9tb2RlbC5wcm9qZWN0TmFtZSgpLHBhdGg6bi5fbW9kZWwuY29uZmlnRmlsZVBhdGgoKSxjb25maWc6bi5fbW9kZWwucHJvamVjdENvbmZpZygpfSx2ZXJzaW9uOm4uX21vZGVsLmNvcmVWZXJzaW9uKCl9LGUpfSksaSgiTGlzdGVuaW5nIHBvcnQgJXMiLGUpfTtuLl9jaGVja1BvcnQoZCkudGhlbihmdW5jdGlvbihlKXtpZihlKXRyeXtuLl9odHRwU2VydmVyPW8uY3JlYXRlU2VydmVyKGZ1bmN0aW9uKGUsdCl7dC53cml0ZUhlYWQoMjAwLHsiQ29udGVudC1UeXBlIjoidGV4dC9odG1sIn0pLHQud3JpdGUoaCksdC5lbmQoKX0pLm9uY2UoImxpc3RlbmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gcygpfSkubGlzdGVuKGUpfWNhdGNoKHQpe3MoKX1lbHNlIHMoKX0pfSxuLnByb3RvdHlwZS5fc2VuZD1mdW5jdGlvbihlLHQpe3QmJigidWk6dGVzdHM6YWxsUmVzdWx0c1VwZGF0ZWQiPT09ZS50eXBlPyh0Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtPTAsZS5zZXE9dC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bSsrKToidWk6dGVzdHM6c29tZVJlc3VsdHNVcGRhdGVkIj09PWUudHlwZSYmKGUuc2VxPXQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW0rKykpLGkoIk91dGdvaW5nIG1lc3NhZ2UgJXMiLGUudHlwZSk7dmFyIG49SlNPTi5zdHJpbmdpZnkoZSk7dD90LnNlbmQobik6Xy5lYWNoKHRoaXMuX2Nvbm5lY3Rpb25zLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQobil9KX0sbi5wcm90b3R5cGUuX2ZpbmRGcmVlUG9ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIFEuYWxsKF8ubWFwKHUsZnVuY3Rpb24odCl7cmV0dXJuIGUuX2NoZWNrUG9ydCh0KX0pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBfLmZpbmQoZSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGV8fFEucmVqZWN0KG5ldyBFcnJvcigiQ2FuIG5vdCBmaW5kIGEgZnJlZSBwb3J0IikpfSl9LG4ucHJvdG90eXBlLl9jaGVja1BvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXMuY3JlYXRlU2VydmVyKCkub25jZSgiZXJyb3IiLGZ1bmN0aW9uKHQpe3JldHVybiBuKHQmJiJFQUREUk5PVEFWQUlMIj09PXQuY29kZT9lOjApfSkub25jZSgibGlzdGVuaW5nIixmdW5jdGlvbigpe3JldHVybiBpLm9uY2UoImNsb3NlIixmdW5jdGlvbigpe3JldHVybiBuKGUpfSkuY2xvc2UoKX0pLmxpc3RlbihlLHQpfX07cmV0dXJuIFEucHJvbWlzZSh0KCIwLjAuMC4wIikpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU/US5wcm9taXNlKHQoIjEyNy4wLjAuMSIpKTowfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZT9RLnByb21pc2UodCgiOjoxIikpOjB9KX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fd3NzJiZlLl93c3MuY2xvc2UoKSxlLl9odHRwU2VydmVyJiZlLl9odHRwU2VydmVyLmNsb3NlKCl9LG59KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPXB9LHsiLi4vc2VydmVyL2RvY3VtZW50SW5FZGl0b3IiOjUsZGVidWc6dm9pZCAwLGh0dHA6dm9pZCAwLG5ldDp2b2lkIDAsdXJsOnZvaWQgMCx3czp2b2lkIDB9XSwxNzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPS9eXHMqKFwvXCpcKj8oLnxccj9cbikqP1wqXC8pLyxyPS9eXHMqLzt0LmV4cG9ydHM9e3JhbmRvbUlkOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDUpfSxub29wVHJ1ZTpmdW5jdGlvbigpe3JldHVybiEwfSxub29wVHJ1ZVByb21pc2U6ZnVuY3Rpb24oKXtyZXR1cm4gUS5mY2FsbCh0aGlzLm5vb3BUcnVlKX0saXNQYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+MiYmIkAiPT09ZVswXSYmIkAiPT09ZVsxXX0sZG9jQmxvY2tDb21tZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goaSk7cmV0dXJuIHQ/dFswXS5yZXBsYWNlKHIsIiIpfHwiIjoiIn0sdGV4dEluZGV4UG9zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnRleHRMaW5lcyhlLHQpO3JldHVybntsaW5lOm4ubGVuZ3RoLGNvbHVtbjpuW24ubGVuZ3RoLTFdLmxlbmd0aH19LHRleHRMaW5lczpmdW5jdGlvbihlLHQpe3JldHVybiBlPV8uaXNVbmRlZmluZWQodCk/ZTplLnN1YnN0cigwLHQpLGUuc3BsaXQoL1xyXG58XHJ8XG4vKX0sdmVyaWZ5TG9jYWxPcmlnaW46ZnVuY3Rpb24odCxuKXtpZighdClyZXR1cm4hMDt2YXIgaT0hMTt0cnl7dmFyIHI9ZSgidXJsIikucGFyc2UodCkuaG9zdG5hbWU7aT0ibG9jYWxob3N0Ij09PXJ8fCIwLjAuMC4wIj09PXJ8fCIxMjcuMC4wLjEiPT09cnx8Ijo6MSI9PT1yfWNhdGNoKHMpe31yZXR1cm4gaXx8bnx8Y29uc29sZS5lcnJvcigid2FsbGFieS5qcyByZWZ1c2VkIHRvIGFjY2VwdCBjb25uZWN0aW9uIGZyb20gIit0KSxpfSxwYXRjaE1vZHVsZTpmdW5jdGlvbih0LG4pe3ZhciBpPWUoIm1vZHVsZSIpLk1vZHVsZS5wcm90b3R5cGUscj1pLnJlcXVpcmU7aS5yZXF1aXJlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9uKF8uYmluZChyLHRoaXMpKTpyLmNhbGwodGhpcyxlKX19fX0se21vZHVsZTp2b2lkIDAsdXJsOnZvaWQgMH1dfSx7fSxbMV0pOw==